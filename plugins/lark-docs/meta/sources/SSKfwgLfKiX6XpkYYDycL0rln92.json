{
  "creator": "ou_e55a208a81fc721928685fc3df9cb678",
  "has_child": false,
  "node_create_time": "1697536230",
  "node_token": "SSKfwgLfKiX6XpkYYDycL0rln92",
  "node_type": "origin",
  "obj_create_time": "1697536230",
  "obj_edit_time": "1705028222",
  "obj_token": "WSWidb1WZoNboExpxxacgBlLnYb",
  "obj_type": "docx",
  "origin_node_token": "SSKfwgLfKiX6XpkYYDycL0rln92",
  "origin_space_id": "7167193056431783939",
  "owner": "ou_e55a208a81fc721928685fc3df9cb678",
  "parent_node_token": "OaqCwA1YZiQwAwkkaXccyFlgnud",
  "space_id": "7167193056431783939",
  "title": "[DEPRECATE] Search and Query with Iterators",
  "slug": "search-and-query-iterators",
  "blocks": {
    "items": [
      {
        "block_id": "WSWidb1WZoNboExpxxacgBlLnYb",
        "block_type": 1,
        "children": [
          "WQdEdwRo4ozXP3x9RTlckjhGnXp",
          "AQHbdQB4OoPYuhxYGd0cmBe6n3f",
          "KXfCdrzYvogtegx92tKcW9IHnye",
          "Wz7ado30Toytp9xNsFjcvhC6nOe",
          "CH2VdDpf1o8XTmxH6CKcUZC8nhh",
          "CzsPdM17IosDBKxnQ4ScrrdanGQ",
          "J19ude6PzoWjJKxfGMZcTX8tnqb",
          "GPONdBaFKoJgZPx6CoZcGnXInK5",
          "MYPDdQHNRotcUDxTNZwcKfOjnSP",
          "DJPadSaC4oh0ICxXgyucpOa0nxf",
          "NEBDd31CMoh63zxUnT5cbdNfnqb",
          "ZeZLd4f6KonohuxUvpQcLX3WnIb",
          "P3ZJd8BeuoWYqTx1Y1YcIrdXnpd",
          "Mw0GdG1pnoL3VuxBKNdcwFNPnRT",
          "Y2FTdQ3hqoMsFix9xPBc3hLAnLe",
          "RaU5dwOatoCp8Wx5pIbckP6dn1g",
          "ETZndOgNyo7DqRxLNXicg76RnZ4",
          "IVV3dkyuroPQLExU79hcT4hVnVc",
          "QviudAQzooYWHvxID9vczrGknRK",
          "MngidBDhnoGWTWx4mzaczOLanFe",
          "OxEDdQYlVoRxxCxpM5fcrLnvnKe",
          "BDKwdI3CboOU5LxvVOkcb2R1njb",
          "IoW7dSZy2osqDhx5wO7cxoZBnoe",
          "RKT6dt2w5o8Z69x3DNZcZ6MfnTe",
          "QTBOdfVjMojds5xexkece8cEn0d",
          "HmZJdQCBvolQPzxsUzcc4qSjnvh",
          "QUNldtQDFoD1yCxFrgCcfjBonvb",
          "HD2WdkuFioseC9xQoVQcqJuBnse",
          "XqvBdRf6Lo0TKRx3SZecSbkXnSc",
          "UZxudC8tBo8J82xqIRzcuPfEnLh",
          "Dhu7dUxedozrUixEzwsc0PQcnqc",
          "GWHtdBSllouPEmxlvuDc5tqUnmD",
          "YRegdAkqqo9xlKxPktIcgAONn8c",
          "Z6D4dXI62oFejxxgkflcSn9fnxg"
        ],
        "comment_ids": [
          "7297123183655960580"
        ],
        "page": {
          "elements": [
            {
              "text_run": {
                "content": "[DEPRECATE] ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "Search and ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "Query",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " with ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "Iterators",
                "text_element_style": {
                  "bold": false,
                  "comment_ids": [
                    "7297123183655960580"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1
          }
        },
        "parent_id": ""
      },
      {
        "block_id": "WQdEdwRo4ozXP3x9RTlckjhGnXp",
        "block_type": 2,
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "This guide is designed to help you search and ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "query",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " large datasets using the power of iterators. Below, you'll find step-by-step instructions on how to effectively use iterators for better performance and simplicity in your data operations.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "AQHbdQB4OoPYuhxYGd0cmBe6n3f",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "Overview",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "KXfCdrzYvogtegx92tKcW9IHnye",
        "block_type": 2,
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Iterators are advanced tools that enable you to navigate through large datasets by working with primary key values and Boolean expressions, which can greatly optimize the way you retrieve data from Zilliz Cloud. Unlike the traditional use of ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "offset",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " and ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "limit",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " parameters, which may become less efficient over time, iterators provide a more scalable solution.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "Wz7ado30Toytp9xNsFjcvhC6nOe",
        "block_type": 5,
        "heading3": {
          "elements": [
            {
              "text_run": {
                "content": "Benefits of using iterators",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "CH2VdDpf1o8XTmxH6CKcUZC8nhh",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "Simplicity",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ": Eliminate the complex ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "offset",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " and ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "limit",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " configurations.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "CzsPdM17IosDBKxnQ4ScrrdanGQ",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "Efficiency",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ": Enjoy faster data retrieval by fetching data as needed.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "J19ude6PzoWjJKxfGMZcTX8tnqb",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "Consistency",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ": Ensure a consistent dataset size during each iteration with Boolean filters.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "GPONdBaFKoJgZPx6CoZcGnXInK5",
        "block_type": 34,
        "children": [
          "ZlbgdsoD2oBKzSxzHhVc46oLnsd",
          "BH34dVCuHolTnJx8ttXcXbL4nqc"
        ],
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb",
        "quote_container": {}
      },
      {
        "block_id": "ZlbgdsoD2oBKzSxzHhVc46oLnsd",
        "block_type": 2,
        "parent_id": "GPONdBaFKoJgZPx6CoZcGnXInK5",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "ðŸ“˜ Notes",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "BH34dVCuHolTnJx8ttXcXbL4nqc",
        "block_type": 2,
        "parent_id": "GPONdBaFKoJgZPx6CoZcGnXInK5",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "The support for iterators is available as a Beta feature. The feature and the documentation may change anytime during the Beta stage.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "MYPDdQHNRotcUDxTNZwcKfOjnSP",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "Before you start",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "DJPadSaC4oh0ICxXgyucpOa0nxf",
        "block_type": 2,
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Before searching or querying with an iterator, make sure the following conditions are met:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "NEBDd31CMoh63zxUnT5cbdNfnqb",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "You have upgraded your cluster to the Beta version.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "ZeZLd4f6KonohuxUvpQcLX3WnIb",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "You have downloaded the example dataset. For details, see ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "mention_doc": {
                "obj_type": 16,
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                },
                "title": "Example Dataset",
                "token": "FCgWwFVtQiUy9GkDlQNcA0xZnPa",
                "url": "https://zilliverse.feishu.cn/wiki/FCgWwFVtQiUy9GkDlQNcA0xZnPa"
              }
            },
            {
              "text_run": {
                "content": ".",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "P3ZJd8BeuoWYqTx1Y1YcIrdXnpd",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "Prepare your dataset",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "Mw0GdG1pnoL3VuxBKNdcwFNPnRT",
        "block_type": 2,
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "To set up your environment:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "Y2FTdQ3hqoMsFix9xPBc3hLAnLe",
        "block_type": 13,
        "ordered": {
          "elements": [
            {
              "text_run": {
                "content": "Create a collection with a schema corresponding to your dataset:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "RaU5dwOatoCp8Wx5pIbckP6dn1g",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "# 0. Connect to cluster\nconnections.connect(\n    uri=CLUSTER_ENDPOINT, # Public endpoint obtained from Zilliz Cloud\n    token=TOKEN, # API key or a colon-separated cluster username and password\n)\n\n# 1. Define fields\nfields = [\n    FieldSchema(name=\"id\", dtype=DataType.INT64, is_primary=True),\n    FieldSchema(name=\"title\", dtype=DataType.VARCHAR, max_length=512),   \n    FieldSchema(name=\"title_vector\", dtype=DataType.FLOAT_VECTOR, dim=768),\n    FieldSchema(name=\"link\", dtype=DataType.VARCHAR, max_length=512),\n    FieldSchema(name=\"reading_time\", dtype=DataType.INT64),\n    FieldSchema(name=\"publication\", dtype=DataType.VARCHAR, max_length=512),\n    FieldSchema(name=\"claps\", dtype=DataType.INT64),\n    FieldSchema(name=\"responses\", dtype=DataType.INT64)\n]\n\n# 2. Build the schema\nschema = CollectionSchema(\n    fields,\n    description=\"Schema of Medium articles\",\n    enable_dynamic_field=False\n)\n\n# 3. Create collection\ncollection = Collection(\n    name='medium_articles', \n    description=\"Medium articles published between Jan and August in 2020 in prominent publications\",\n    schema=schema\n)\n\n# 4. Index collection\n# 'index_type' defines the index algorithm to be used.\n#    AUTOINDEX is the only option.\n#\n# 'metric_type' defines the way to measure the distance \n#    between vectors. Possible values are L2, IP, and Cosine,\n#    and defaults to Cosine.\nindex_params = {\n    \"index_type\": \"AUTOINDEX\",\n    \"metric_type\": \"L2\",\n    \"params\": {}\n}\n\n# To name the index, do as follows:\ncollection.create_index(\n    field_name=\"title_vector\", \n    index_params=index_params,\n)\n\n# 5. Load collection\ncollection.load()\n\n# Get loading progress\nprogress = utility.loading_progress(COLLECTION_NAME)\n\nprint(progress)\n\n# Output\n#\n# {\n#     \"loading_progress\": \"100%\"\n# }\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "ETZndOgNyo7DqRxLNXicg76RnZ4",
        "block_type": 13,
        "ordered": {
          "elements": [
            {
              "text_run": {
                "content": "Prepare the dataset for insertion:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "IVV3dkyuroPQLExU79hcT4hVnVc",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "# Prepare a list of rows\nwith open('medium_articles_2020_dpr.json') as f:\n    data = json.load(f)\n    rows = data['rows']\n\nprint(rows[:3])\n\n# Output\n#\n# [\n#     {\n#         \"id\": 0,\n#         \"title\": \"The Reported Mortality Rate of Coronavirus Is Not Important\",\n#         \"title_vector\": [\n#             0.041732933,\n#             0.013779674,\n#             -0.027564144,\n#             -0.013061441,\n#             0.009748648,\n#             0.00082446384,\n#             -0.00071647146,\n#             0.048612226,\n#             -0.04836573,\n#             -0.04567751,\n#             \"(758 more items hidden)\"\n#         ],\n#         \"link\": \"https://medium.com/swlh/the-reported-mortality-rate-of-coronavirus-is-not-important-369989c8d912\",\n#         \"reading_time\": 13,\n#         \"publication\": \"The Startup\",\n#         \"claps\": 1100,\n#         \"responses\": 18\n#     },\n#     {\n#         \"id\": 1,\n#         \"title\": \"Dashboards in Python: 3 Advanced Examples for Dash Beginners and Everyone Else\",\n#         \"title_vector\": [\n#             0.0039737443,\n#             0.003020432,\n#             -0.0006188639,\n#             0.03913546,\n#             -0.00089768134,\n#             0.021238148,\n#             0.014454661,\n#             0.025742851,\n#             0.0022063442,\n#             -0.051130578,\n#             \"(758 more items hidden)\"\n#         ],\n#         \"link\": \"https://medium.com/swlh/dashboards-in-python-3-advanced-examples-for-dash-beginners-and-everyone-else-b1daf4e2ec0a\",\n#         \"reading_time\": 14,\n#         \"publication\": \"The Startup\",\n#         \"claps\": 726,\n#         \"responses\": 3\n#     },\n#     {\n#         \"id\": 2,\n#         \"title\": \"How Can We Best Switch in Python?\",\n#         \"title_vector\": [\n#             0.031961977,\n#             0.00047043373,\n#             -0.018263113,\n#             0.027324716,\n#             -0.0054595284,\n#             -0.014779159,\n#             0.017511465,\n#             0.030381083,\n#             -0.018930407,\n#             -0.03372473,\n#             \"(758 more items hidden)\"\n#         ],\n#         \"link\": \"https://medium.com/swlh/how-can-we-best-switch-in-python-458fb33f7835\",\n#         \"reading_time\": 6,\n#         \"publication\": \"The Startup\",\n#         \"claps\": 500,\n#         \"responses\": 7\n#     }\n# ]\n\n# Insert data\nresults = collection.insert(rows)\n\nprint(f\"Data inserted successfully! inserted rows: {results.insert_count}\")\n\n# Output\n#\n# Data inserted successfully! inserted rows: 5979\n\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "time.sleep(10)",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "QviudAQzooYWHvxID9vczrGknRK",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "Search with an iterator",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "MngidBDhnoGWTWx4mzaczOLanFe",
        "block_type": 2,
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Iterators streamline the process of searching for entities similar to a ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "query",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " vector. The following steps guide you through the search operation:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "OxEDdQYlVoRxxCxpM5fcrLnvnKe",
        "block_type": 13,
        "ordered": {
          "elements": [
            {
              "text_run": {
                "content": "Initialize the search iterator to define the search parameters and output fields.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "BDKwdI3CboOU5LxvVOkcb2R1njb",
        "block_type": 13,
        "children": [
          "S8nPd5OuuoRShPxQyjQcMQ7pnSf",
          "V7medtOSkokMfhxDl0ccwNupnZb"
        ],
        "ordered": {
          "elements": [
            {
              "text_run": {
                "content": "Use the ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "next()",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " method within a loop to paginate through the search results:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "S8nPd5OuuoRShPxQyjQcMQ7pnSf",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "If ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "next()",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " returns an empty array, end the loop; no more pages are available.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "BDKwdI3CboOU5LxvVOkcb2R1njb"
      },
      {
        "block_id": "V7medtOSkokMfhxDl0ccwNupnZb",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "If results are found, they will display the specified output fields.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "BDKwdI3CboOU5LxvVOkcb2R1njb"
      },
      {
        "block_id": "IoW7dSZy2osqDhx5wO7cxoZBnoe",
        "block_type": 13,
        "ordered": {
          "elements": [
            {
              "text_run": {
                "content": "Close the iterator using ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "close()",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " once all the data has been retrieved.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "RKT6dt2w5o8Z69x3DNZcZ6MfnTe",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "# 8. Search vectors\n\nquery_vector = rows[0]['title_vector']\n\n# Define search parameters\nsearch_params = {\n    \"metric_type\": \"L2\",\n    \"params\": {\"nprobe\": 10}\n}\n\n# Execute search\niterator = collection.search_iterator(\n    data=[query_vector], \n    anns_field=\"title_vector\",\n    batch_size=10,\n    limit=100, \n    param=search_params,\n    output_fields=[\"title\", \"link\", \"publication\"]\n)\n\nresults = []\n\nwhile True:\n    result = iterator.next()\n    if len(result) == 0:\n        iterator.close()\n        break;\n\n    for x in range(len(result)):\n        results.append(result[x])\n\nresults = [ { \n    \"id\": x.id,\n    \"distance\": x.distance,\n    \"entity\": {\n        \"title\": x.entity.get(\"title\"),\n        \"link\": x.entity.get(\"link\"),\n        \"publication\": x.entity.get(\"publication\")\n        },\n    } for x in results]\n\nprint(results[:3])\n\n# Output\n#\n# [\n#     {\n#         \"id\": 0,\n#         \"distance\": 0.0,\n#         \"entity\": {\n#             \"title\": \"The Reported Mortality Rate of Coronavirus Is Not Important\",\n#             \"link\": \"https://medium.com/swlh/the-reported-mortality-rate-of-coronavirus-is-not-important-369989c8d912\",\n#             \"publication\": \"The Startup\"\n#         }\n#     },\n#     {\n#         \"id\": 3177,\n#         \"distance\": 0.29999834299087524,\n#         \"entity\": {\n#             \"title\": \"Following the Spread of Coronavirus\",\n#             \"link\": \"https://towardsdatascience.com/following-the-spread-of-coronavirus-23626940c125\",\n#             \"publication\": \"Towards Data Science\"\n#         }\n#     },\n#     {\n#         \"id\": 5607,\n#         \"distance\": 0.36103832721710205,\n#         \"entity\": {\n#             \"title\": \"The Hidden Side Effect of the Coronavirus\",\n#             \"link\": \"https://medium.com/swlh/the-hidden-side-effect-of-the-coronavirus-b6a7a5ee9586\",\n#             \"publication\": \"The Startup\"\n#         }\n#     }\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "# ]",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "QTBOdfVjMojds5xexkece8cEn0d",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "Query",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " with an iterator",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "HmZJdQCBvolQPzxsUzcc4qSjnvh",
        "block_type": 2,
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Query",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " iterators provide a reliable and accurate pagination method by iterating over primary key expressions (",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "expr",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "), ensuring accuracy in pagination due to the query's ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "selectLowestPK",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " reduction principle. Follow these steps to perform a query with an iterator:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "QUNldtQDFoD1yCxFrgCcfjBonvb",
        "block_type": 13,
        "ordered": {
          "elements": [
            {
              "text_run": {
                "content": "Initiate the ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "query",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " iterator.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "HD2WdkuFioseC9xQoVQcqJuBnse",
        "block_type": 13,
        "ordered": {
          "elements": [
            {
              "text_run": {
                "content": "Use ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "expr",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " to consistently filter and paginate results.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "XqvBdRf6Lo0TKRx3SZecSbkXnSc",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "# 9. Query with iterators\n\niterator = collection.query_iterator(\n    batch_size=10,\n    limit=100,\n    expr=\"claps > 1000\",\n    output_fields=[\"title\", \"link\", \"claps\"]\n)\n\nresults = []\n\nwhile True:\n    result = iterator.next()\n    if len(result) == 0:\n        iterator.close()\n        break;\n\n    for x in range(len(result)):\n        results.append(result[x])\n\nprint(results[:3])\n\n# Output\n#\n# [\n#     {\n#         \"title\": \"The Reported Mortality Rate of Coronavirus Is Not Important\",\n#         \"link\": \"https://medium.com/swlh/the-reported-mortality-rate-of-coronavirus-is-not-important-369989c8d912\",\n#         \"claps\": 1100,\n#         \"id\": 0\n#     },\n#     {\n#         \"title\": \"What I Learned From Walking 3000 Miles to Work\",\n#         \"link\": \"https://medium.com/swlh/what-i-learned-from-walking-3000-miles-to-work-5bf210ab18b3\",\n#         \"claps\": 1600,\n#         \"id\": 34\n#     },\n#     {\n#         \"title\": \"How to Be Memorable in Social Settings\",\n#         \"link\": \"https://medium.com/personal-growth/how-to-be-memorable-in-social-settings-9fabcf80d20d\",\n#         \"claps\": 8600,\n#         \"id\": 66\n#     }\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "# ]",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "UZxudC8tBo8J82xqIRzcuPfEnLh",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "Related topics",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "Dhu7dUxedozrUixEzwsc0PQcnqc",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "mention_doc": {
                "obj_type": 16,
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                },
                "title": "Create Collection",
                "token": "QnKCw0v4TiFkITkneCmcy0mZnre",
                "url": "https://zilliverse.feishu.cn/wiki/QnKCw0v4TiFkITkneCmcy0mZnre"
              }
            },
            {
              "text_run": {
                "content": " ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "GWHtdBSllouPEmxlvuDc5tqUnmD",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "mention_doc": {
                "obj_type": 16,
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                },
                "title": "Use Partition Key",
                "token": "UzY9wHHcIiDJAUkkFSzcBUk9n4o",
                "url": "https://zilliverse.feishu.cn/wiki/UzY9wHHcIiDJAUkkFSzcBUk9n4o"
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "YRegdAkqqo9xlKxPktIcgAONn8c",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "mention_doc": {
                "obj_type": 16,
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                },
                "title": "[Beta] Upsert Data",
                "token": "FosYwomcEims6PkFvwgcwZbcn1e",
                "url": "https://zilliverse.feishu.cn/wiki/FosYwomcEims6PkFvwgcwZbcn1e"
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      },
      {
        "block_id": "Z6D4dXI62oFejxxgkflcSn9fnxg",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "mention_doc": {
                "obj_type": 16,
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                },
                "title": "Search and Query with Advanced Expressions",
                "token": "PVo3wlyoriD6BkkpGpmcD7ULnXd",
                "url": "https://zilliverse.feishu.cn/wiki/PVo3wlyoriD6BkkpGpmcD7ULnXd"
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "WSWidb1WZoNboExpxxacgBlLnYb"
      }
    ],
    "counts": 39
  }
}