{
  "creator": "ou_e55a208a81fc721928685fc3df9cb678",
  "has_child": false,
  "node_create_time": "1710222260",
  "node_token": "IyOmwmPWYiLRcGkN2YmcME5PnHe",
  "node_type": "origin",
  "obj_create_time": "1710222260",
  "obj_edit_time": "1710323257",
  "obj_token": "Yc5CdEX6doXP99xYTBqcN0oenO1",
  "obj_type": "docx",
  "origin_node_token": "IyOmwmPWYiLRcGkN2YmcME5PnHe",
  "origin_space_id": "7314484612833640452",
  "owner": "ou_e55a208a81fc721928685fc3df9cb678",
  "parent_node_token": "Q7rswYdeeiXpRPkMDuncCudgnHh",
  "space_id": "7314484612833640452",
  "title": "Sentence Transformers",
  "slug": "embed-with-sentence-transform",
  "blocks": {
    "items": [
      {
        "block_id": "Yc5CdEX6doXP99xYTBqcN0oenO1",
        "block_type": 1,
        "children": [
          "Ubscd5tEYoHUivxVrAVcMK21nId",
          "MYS0dEAj4oABtzxUxi9cwfEfn4d",
          "B5XodSP8wopy6dxIyiwcVS4Fnbe",
          "QjkudEWKWoTNWOxf5e0cv9a2n5m",
          "XbhAd2ogvoRAcTxwS91cMVxBnsh",
          "ZhqDdzM8Boj27bxfBR5czO6dnBb",
          "FsPTd7pcloxciKxYBZtcgn4An9e",
          "C3EddobG9oZegcxurrccpLqOnIe",
          "L60DdRZ8woAT9txS8PFcsvwqnFh",
          "SLUldun5FoXg7Jx1hB5cAKvwnrd",
          "Dsv5dXnG0orgCkxkVK6cZaH0nDh",
          "Lly1dF2TCoaEfGxfChzckJ07nkc",
          "Krk4dHY7go56RXxjREycw9aBnbb",
          "Z3zgdGCxMoauOJx4G7zcPYfbnBf",
          "GE7qd9QU3oWlX6xXTnoc9GQkn2g",
          "XGZAdmhMZoBP1tx8UeLc76einxg",
          "VC8tdYMaiouIORxICjdcH4KUn0g"
        ],
        "page": {
          "elements": [
            {
              "text_run": {
                "content": "Sentence Transformers",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1
          }
        },
        "parent_id": ""
      },
      {
        "block_id": "Ubscd5tEYoHUivxVrAVcMK21nId",
        "block_type": 2,
        "parent_id": "Yc5CdEX6doXP99xYTBqcN0oenO1",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Milvus integrates with ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "Sentence Transformer",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "link": {
                    "url": "https%3A%2F%2Fwww.sbert.net%2Fdocs%2Fpretrained_models.html%23model-overview"
                  },
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " pre-trained models via the ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "SentenceTransformerEmbeddingFunction",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " class. This class provides methods for encoding documents and queries using the pretrained Sentence Transformer models and returning the embeddings as dense vectors compatible with Milvus indexing.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "MYS0dEAj4oABtzxUxi9cwfEfn4d",
        "block_type": 2,
        "parent_id": "Yc5CdEX6doXP99xYTBqcN0oenO1",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "To install the necessary Sentence Transformer Python package, use the command:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "B5XodSP8wopy6dxIyiwcVS4Fnbe",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "pip install sentence-transformers",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "Yc5CdEX6doXP99xYTBqcN0oenO1"
      },
      {
        "block_id": "QjkudEWKWoTNWOxf5e0cv9a2n5m",
        "block_type": 2,
        "parent_id": "Yc5CdEX6doXP99xYTBqcN0oenO1",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Then, instantiate the ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "SentenceTransformerEmbeddingFunction",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ":",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "XbhAd2ogvoRAcTxwS91cMVxBnsh",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "from pymilvus import model\n\nsentence_transformer_ef = model.dense.SentenceTransformerEmbeddingFunction(\n    model_name='all-MiniLM-L6-v2', # Specify the model name\n    device='cpu' # Specify the device to use, e.g., 'cpu' or 'cuda:0'\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ")",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "Yc5CdEX6doXP99xYTBqcN0oenO1"
      },
      {
        "block_id": "ZhqDdzM8Boj27bxfBR5czO6dnBb",
        "block_type": 2,
        "parent_id": "Yc5CdEX6doXP99xYTBqcN0oenO1",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Parameters",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ":",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "FsPTd7pcloxciKxYBZtcgn4An9e",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "model_name",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " (",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "string",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": true,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ")",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "children": [
          "JvOCd6OqKoYRiSxe2MkckbgOnfc"
        ],
        "parent_id": "Yc5CdEX6doXP99xYTBqcN0oenO1"
      },
      {
        "block_id": "JvOCd6OqKoYRiSxe2MkckbgOnfc",
        "block_type": 2,
        "parent_id": "FsPTd7pcloxciKxYBZtcgn4An9e",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "The name of the Sentence Transformer model to use for encoding. The value defaults to ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "all-MiniLM-L6-v2",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ". You can use any of Sentence Transformers' pre-trained models. For a list of available models, refer to ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "Pretrained models",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "link": {
                    "url": "https%3A%2F%2Fwww.sbert.net%2Fdocs%2Fpretrained_models.html"
                  },
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ".",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "C3EddobG9oZegcxurrccpLqOnIe",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "device",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " (",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "string",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": true,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ")",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "children": [
          "J45YdXKxcoG1mTxEIzycHDmfn1e"
        ],
        "parent_id": "Yc5CdEX6doXP99xYTBqcN0oenO1"
      },
      {
        "block_id": "J45YdXKxcoG1mTxEIzycHDmfn1e",
        "block_type": 2,
        "parent_id": "C3EddobG9oZegcxurrccpLqOnIe",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "The device to use, with ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "cpu",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " for the CPU and ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "cuda:n",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " for the nth GPU device.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "L60DdRZ8woAT9txS8PFcsvwqnFh",
        "block_type": 2,
        "parent_id": "Yc5CdEX6doXP99xYTBqcN0oenO1",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "To create embeddings for documents, use the ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "encode_documents()",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " method:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "SLUldun5FoXg7Jx1hB5cAKvwnrd",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "docs = [\n    \"Artificial intelligence was founded as an academic discipline in 1956.\",\n    \"Alan Turing was the first person to conduct substantial research in AI.\",\n    \"Born in Maida Vale, London, Turing was raised in southern England.\",\n]\n\ndocs_embeddings = sentence_transformer_ef.encode_documents(docs)\n\n# Print embeddings\nprint(\"Embeddings:\", docs_embeddings)\n# Print dimension and shape of embeddings\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "print(\"Dim:\", sentence_transformer_ef.dim, docs_embeddings[0].shape)",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "Yc5CdEX6doXP99xYTBqcN0oenO1"
      },
      {
        "block_id": "Dsv5dXnG0orgCkxkVK6cZaH0nDh",
        "block_type": 2,
        "parent_id": "Yc5CdEX6doXP99xYTBqcN0oenO1",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "The expected output is similar to the following:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "Lly1dF2TCoaEfGxfChzckJ07nkc",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "Embeddings: [array([-3.09392996e-02, -1.80662833e-02,  1.34775648e-02,  2.77156215e-02,\n       -4.86349640e-03, -3.12581174e-02, -3.55921760e-02,  5.76934684e-03,\n        2.80773244e-03,  1.35783911e-01,  3.59678417e-02,  6.17732145e-02,\n...\n       -4.61330153e-02, -4.85207550e-02,  3.13997865e-02,  7.82178566e-02,\n       -4.75336798e-02,  5.21207601e-02,  9.04406682e-02, -5.36676683e-02],\n      dtype=float32)]\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "Dim: 384 (384,)",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "Yc5CdEX6doXP99xYTBqcN0oenO1"
      },
      {
        "block_id": "Krk4dHY7go56RXxjREycw9aBnbb",
        "block_type": 2,
        "parent_id": "Yc5CdEX6doXP99xYTBqcN0oenO1",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "To create embeddings for queries, use the ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "encode_queries()",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " method:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "Z3zgdGCxMoauOJx4G7zcPYfbnBf",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "queries = [\"When was artificial intelligence founded\", \n           \"Where was Alan Turing born?\"]\n\nquery_embeddings = sentence_transformer_ef.encode_queries(queries)\n\n# Print embeddings\nprint(\"Embeddings:\", query_embeddings)\n# Print dimension and shape of embeddings\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "print(\"Dim:\", sentence_transformer_ef.dim, query_embeddings[0].shape)",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "Yc5CdEX6doXP99xYTBqcN0oenO1"
      },
      {
        "block_id": "GE7qd9QU3oWlX6xXTnoc9GQkn2g",
        "block_type": 2,
        "parent_id": "Yc5CdEX6doXP99xYTBqcN0oenO1",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "The expected output is similar to the following:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "XGZAdmhMZoBP1tx8UeLc76einxg",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "Embeddings: [array([-2.52114702e-02, -5.29330298e-02,  1.14570223e-02,  1.95571519e-02,\n       -2.46500354e-02, -2.66519729e-02, -8.48201662e-03,  2.82961670e-02,\n       -3.65092754e-02,  7.50745758e-02,  4.28900979e-02,  7.18822703e-02,\n...\n       -6.76431581e-02, -6.45996556e-02, -4.67132553e-02,  4.78532910e-02,\n       -2.31596199e-03,  4.13446948e-02,  1.06935494e-01, -1.08258888e-01],\n      dtype=float32)]\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "Dim: 384 (384,)",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "Yc5CdEX6doXP99xYTBqcN0oenO1"
      },
      {
        "block_id": "VC8tdYMaiouIORxICjdcH4KUn0g",
        "block_type": 2,
        "parent_id": "Yc5CdEX6doXP99xYTBqcN0oenO1",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      }
    ],
    "counts": 20
  }
}