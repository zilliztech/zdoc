{
  "creator": "ou_8554528ee6e965bad56710acde1c7847",
  "has_child": false,
  "node_create_time": "1708764329",
  "node_token": "D7f6wXR2iiSBS2kuPilcZjD5n8d",
  "node_type": "origin",
  "obj_create_time": "1708764329",
  "obj_edit_time": "1713511792",
  "obj_token": "YSrydsSGIo5rv6xyHVac9iAnnvf",
  "obj_type": "docx",
  "origin_node_token": "D7f6wXR2iiSBS2kuPilcZjD5n8d",
  "origin_space_id": "7167193056431783939",
  "owner": "ou_8554528ee6e965bad56710acde1c7847",
  "parent_node_token": "AAJnwIbLViyZzgk6el3c3DERnpf",
  "space_id": "7167193056431783939",
  "title": "With Iterators",
  "slug": "with-iterators",
  "blocks": {
    "items": [
      {
        "block_id": "YSrydsSGIo5rv6xyHVac9iAnnvf",
        "block_type": 1,
        "children": [
          "doxcnPh8cWAom5FR5P0OIKzqNPc",
          "doxcnj0iFaHlHNXJ5qndvjUCcAg",
          "doxcn6JZ3d4aKHtfjOqFypap78f",
          "doxcnvkzDaGQ7gbPlA8XG1cvJcH",
          "doxcnPdJN0utsojtXNaHbKPg4Lc",
          "doxcnB3pBeFGwfzZ0xjrwqA4v6g",
          "doxcnwBplvMpbFXVmgAFAP6OdQ0",
          "doxcnaodFSeQ9xCKCNrZKxiz6xb",
          "doxcnf4DTMipFBRJnrD7wlI817d",
          "doxcnZ6nX6G6clzpVwWaDvy0aLe",
          "doxcn7PCn55Ex4oQPtbidEyTs1c",
          "doxcnO6PptdJQTx82AeLQIbqVbZ",
          "doxcntIo8xpHkZHHPhpdrhn9wIK",
          "doxcnHfWPVlm8GlDBjKzl38Wtlh",
          "doxcnqPBM0hi72sZLvfgkuc3EJh",
          "doxcn03DRLWxnDQN5MwxbiBsnhe",
          "doxcnYEHJ1dG921CHezbuKRgsKf",
          "doxcn36uzhbk2m7E0nYUNFG6hwf",
          "doxcnIxI12Ddr5UBeKzkmrHXpHd",
          "doxcnWkvPbDBlNpMbhNiVYseEUg",
          "doxcn7xZjhwzNwlV35WwJGHIaDf",
          "doxcnuOY7Om4oRGiHCnYVCfX85b"
        ],
        "page": {
          "elements": [
            {
              "text_run": {
                "content": "With Iterators",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1
          }
        },
        "parent_id": ""
      },
      {
        "block_id": "doxcnPh8cWAom5FR5P0OIKzqNPc",
        "block_type": 2,
        "parent_id": "YSrydsSGIo5rv6xyHVac9iAnnvf",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Zilliz Cloud provides search and query iterators for iterating results with a large volume of entities.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "doxcnj0iFaHlHNXJ5qndvjUCcAg",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "Overview",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "YSrydsSGIo5rv6xyHVac9iAnnvf"
      },
      {
        "block_id": "doxcn6JZ3d4aKHtfjOqFypap78f",
        "block_type": 2,
        "parent_id": "YSrydsSGIo5rv6xyHVac9iAnnvf",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Iterators are powerful tools that help you navigate through large datasets by using primary key values and Boolean expressions. This can significantly improve the way you retrieve data from Zilliz Cloud. Unlike the traditional use of ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "offset",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " and ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "limit",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " parameters, which may become less efficient over time, iterators offer a more scalable solution.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "doxcnvkzDaGQ7gbPlA8XG1cvJcH",
        "block_type": 2,
        "parent_id": "YSrydsSGIo5rv6xyHVac9iAnnvf",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "U",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "sing iterators",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " offers the following benefits:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "doxcnPdJN0utsojtXNaHbKPg4Lc",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "Simplicity",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ": Eliminates the complex ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "offset",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " and ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "limit",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " settings.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "YSrydsSGIo5rv6xyHVac9iAnnvf"
      },
      {
        "block_id": "doxcnB3pBeFGwfzZ0xjrwqA4v6g",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "Efficiency",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ": Provides scalable data retrieval by fetching only the data in need.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "YSrydsSGIo5rv6xyHVac9iAnnvf"
      },
      {
        "block_id": "doxcnwBplvMpbFXVmgAFAP6OdQ0",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "Consistency",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ": Ensures a consistent dataset size with boolean filters.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "YSrydsSGIo5rv6xyHVac9iAnnvf"
      },
      {
        "block_id": "doxcnaodFSeQ9xCKCNrZKxiz6xb",
        "block_type": 19,
        "callout": {
          "background_color": 2,
          "border_color": 2,
          "emoji_id": "blue_book"
        },
        "children": [
          "doxcnxrnsmxy922Y5JqwKin8Dlf",
          "doxcnApnUHbdacmAwlG6l3MIkOc"
        ],
        "parent_id": "YSrydsSGIo5rv6xyHVac9iAnnvf"
      },
      {
        "block_id": "doxcnxrnsmxy922Y5JqwKin8Dlf",
        "block_type": 2,
        "parent_id": "doxcnaodFSeQ9xCKCNrZKxiz6xb",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Notes",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "doxcnApnUHbdacmAwlG6l3MIkOc",
        "block_type": 2,
        "parent_id": "doxcnaodFSeQ9xCKCNrZKxiz6xb",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "This feature is available for the Zilliz Cloud clusters that are compatible with Milvus 2.3.x.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "doxcnf4DTMipFBRJnrD7wlI817d",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "Preparations",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "YSrydsSGIo5rv6xyHVac9iAnnvf"
      },
      {
        "block_id": "doxcnZ6nX6G6clzpVwWaDvy0aLe",
        "block_type": 2,
        "parent_id": "YSrydsSGIo5rv6xyHVac9iAnnvf",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "The following steps repurpose the code to connect to a Zilliz Cloud cluster, quickly set up a collection, and insert over 10,000 randomly generated entities into the collection.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "doxcn7PCn55Ex4oQPtbidEyTs1c",
        "block_type": 5,
        "heading3": {
          "elements": [
            {
              "text_run": {
                "content": "Step 1: Create a collection",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "YSrydsSGIo5rv6xyHVac9iAnnvf"
      },
      {
        "block_id": "doxcnO6PptdJQTx82AeLQIbqVbZ",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "from pymilvus import MilvusClient\n\nCLUSTER_ENDPOINT = \"YOUR_CLUSTER_ENDPOINT\"\nTOKEN = \"YOUR_CLUSTER_TOKEN\"\n\n# 1. Set up a Milvus client\nclient = MilvusClient(\n    uri=CLUSTER_ENDPOINT,\n    token=TOKEN \n)\n\n# 2. Create a collection\nclient.create_collection(\n    collection_name=\"quick_setup\",\n    dimension=5,\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ")",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "YSrydsSGIo5rv6xyHVac9iAnnvf"
      },
      {
        "block_id": "doxcntIo8xpHkZHHPhpdrhn9wIK",
        "block_type": 5,
        "heading3": {
          "elements": [
            {
              "text_run": {
                "content": "Step 2: Insert randomly generated entities",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "YSrydsSGIo5rv6xyHVac9iAnnvf"
      },
      {
        "block_id": "doxcnHfWPVlm8GlDBjKzl38Wtlh",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "# 3. Insert randomly generated vectors \ncolors = [\"green\", \"blue\", \"yellow\", \"red\", \"black\", \"white\", \"purple\", \"pink\", \"orange\", \"brown\", \"grey\"]\ndata = []\n\nfor i in range(10000):\n    current_color = random.choice(colors)\n    current_tag = random.randint(1000, 9999)\n    data.append({\n        \"id\": i,\n        \"vector\": [ random.uniform(-1, 1) for _ in range(5) ],\n        \"color\": current_color,\n        \"tag\": current_tag,\n        \"color_tag\": f\"{current_color}_{str(current_tag)}\"\n    })\n\nprint(data[0])\n\n# Output\n#\n# {\n#     \"id\": 0,\n#     \"vector\": [\n#         -0.5705990742218152,\n#         0.39844925120642083,\n#         -0.8791287928610869,\n#         0.024163154953680932,\n#         0.6837669917169638\n#     ],\n#     \"color\": \"purple\",\n#     \"tag\": 7774,\n#     \"color_tag\": \"purple_7774\"\n# }\n\nres = client.insert(\n    collection_name=\"quick_setup\",\n    data=data,\n)\n\nprint(res)\n\n# Output\n#\n# {\n#     \"insert_count\": 10000,\n#     \"ids\": [\n#         0,\n#         1,\n#         2,\n#         3,\n#         4,\n#         5,\n#         6,\n#         7,\n#         8,\n#         9,\n#         \"(9990 more items hidden)\"\n#     ]\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "# }",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "YSrydsSGIo5rv6xyHVac9iAnnvf"
      },
      {
        "block_id": "doxcnqPBM0hi72sZLvfgkuc3EJh",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "Search with iterator",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "YSrydsSGIo5rv6xyHVac9iAnnvf"
      },
      {
        "block_id": "doxcn03DRLWxnDQN5MwxbiBsnhe",
        "block_type": 2,
        "parent_id": "YSrydsSGIo5rv6xyHVac9iAnnvf",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Iterators make similarity searches more scalable. To search with an iterator, do as follows:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "doxcnYEHJ1dG921CHezbuKRgsKf",
        "block_type": 13,
        "ordered": {
          "elements": [
            {
              "text_run": {
                "content": "Initialize the search iterator to define the search parameters and output fields.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "YSrydsSGIo5rv6xyHVac9iAnnvf"
      },
      {
        "block_id": "doxcn36uzhbk2m7E0nYUNFG6hwf",
        "block_type": 13,
        "children": [
          "doxcnwFbnozTJ330t2BhZlZ6CWd",
          "doxcnEyd8awrQj2UfFefWGAUHqc"
        ],
        "ordered": {
          "elements": [
            {
              "text_run": {
                "content": "Use the ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "next()",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " method within a loop to paginate through the search results.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "YSrydsSGIo5rv6xyHVac9iAnnvf"
      },
      {
        "block_id": "doxcnwFbnozTJ330t2BhZlZ6CWd",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "If the method returns an empty array, the loop ends, and no more pages are available.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "doxcn36uzhbk2m7E0nYUNFG6hwf"
      },
      {
        "block_id": "doxcnEyd8awrQj2UfFefWGAUHqc",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "All results carry the specified output fields.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "doxcn36uzhbk2m7E0nYUNFG6hwf"
      },
      {
        "block_id": "doxcnIxI12Ddr5UBeKzkmrHXpHd",
        "block_type": 13,
        "ordered": {
          "elements": [
            {
              "text_run": {
                "content": "Manually call the ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "close()",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " method to close the iterator once all data has been retrieved.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "YSrydsSGIo5rv6xyHVac9iAnnvf"
      },
      {
        "block_id": "doxcnWkvPbDBlNpMbhNiVYseEUg",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "from pymilvus import Collection\n\n# 4. Search with iterator\nconnections.connect(uri=CLUSTER_ENDPOINT, token=TOKEN)\ncollection = Collection(\"quick_setup\")\n\nquery_vectors = [[0.3580376395471989, -0.6023495712049978, 0.18414012509913835, -0.26286205330961354, 0.9029438446296592]]\nsearch_params = {\n    \"metric_type\": \"IP\",\n    \"params\": {\"nprobe\": 10}\n}\n\niterator = collection.search_iterator(\n    data=query_vectors,\n    anns_field=\"vector\",\n    batch_size=10,\n    param=search_params,\n    output_fields=[\"color_tag\"],\n    limit=3\n)\n\nresults = []\n\nwhile True:\n    result = iterator.next()\n    if not result:\n        iterator.close()\n        break\n    \n    for hit in result:\n        results.append(hit.to_dict())\n\nprint(results)\n\n# Output\n#\n# [\n#     {\n#         \"id\": 1756,\n#         \"distance\": 2.0642056465148926,\n#         \"entity\": {\n#             \"color_tag\": \"black_9109\"\n#         }\n#     },\n#     {\n#         \"id\": 6488,\n#         \"distance\": 1.9437453746795654,\n#         \"entity\": {\n#             \"color_tag\": \"purple_8164\"\n#         }\n#     },\n#     {\n#         \"id\": 3338,\n#         \"distance\": 1.9107104539871216,\n#         \"entity\": {\n#             \"color_tag\": \"brown_8121\"\n#         }\n#     }\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "# ]",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "YSrydsSGIo5rv6xyHVac9iAnnvf"
      },
      {
        "block_id": "doxcn7xZjhwzNwlV35WwJGHIaDf",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "Query with an iterator",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "YSrydsSGIo5rv6xyHVac9iAnnvf"
      },
      {
        "block_id": "doxcnuOY7Om4oRGiHCnYVCfX85b",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "# 6. Query with iterator\niterator = collection.query_iterator(\n    batch_size=10,\n    expr=\"color_tag like \\\"brown_8%\\\"\",\n    output_fields=[\"color_tag\"]\n)\n\nresults = []\n\nwhile True:\n    result = iterator.next()\n    if not result:\n        iterator.close()\n        break\n\n    results += result\n\n# 7. Check the results\nprint(f\"There are {len(results)} entities found. The first 3 are as follows:\")\n\n# Output\n#\n# There are 99 entities found. The first 3 are as follows:\n\nprint(results[:3])\n\n# Output\n#\n# [\n#     {\n#         \"color_tag\": \"brown_8785\",\n#         \"id\": 94\n#     },\n#     {\n#         \"color_tag\": \"brown_8568\",\n#         \"id\": 176\n#     },\n#     {\n#         \"color_tag\": \"brown_8721\",\n#         \"id\": 289\n#     }\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "# ]",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "YSrydsSGIo5rv6xyHVac9iAnnvf"
      }
    ],
    "counts": 27
  }
}