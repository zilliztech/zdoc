{
  "creator": "ou_e55a208a81fc721928685fc3df9cb678",
  "has_child": false,
  "node_create_time": "1710222338",
  "node_token": "Qf3MwlGHxiSy3qk4viGcQN9Nnbe",
  "node_type": "origin",
  "obj_create_time": "1710222338",
  "obj_edit_time": "1710768088",
  "obj_token": "E1IMdJ1J8oMuiMx7x9JcKapjnZd",
  "obj_type": "docx",
  "origin_node_token": "Qf3MwlGHxiSy3qk4viGcQN9Nnbe",
  "origin_space_id": "7314484612833640452",
  "owner": "ou_e55a208a81fc721928685fc3df9cb678",
  "parent_node_token": "Q7rswYdeeiXpRPkMDuncCudgnHh",
  "space_id": "7314484612833640452",
  "title": "BM25",
  "slug": "embed-with-bm25",
  "blocks": {
    "items": [
      {
        "block_id": "E1IMdJ1J8oMuiMx7x9JcKapjnZd",
        "block_type": 1,
        "children": [
          "JZFodjkaWo5LpkxAx1xcoNSAnDb",
          "IXzpdzPRTohYzCxb9ozcHi2MnBf",
          "LzPnd7fzWoHpZbxAuI7c62pxnod",
          "NQSmdAqHeoSfl9xtIZ7cgiRhn0c",
          "LpWmdOj69oK7PJxGq3DcIdainGd",
          "BKjddCYqIoV06sxbY6nceCuNnKf",
          "RNeMd4EuyorfYgx9vSqcYP9enNf",
          "PFGpdNeYAoELSixB8mBcYC84nGH",
          "PHAkdCuyPo7xqDxhJiBcKwL2nTO",
          "RrRbds088oAfH7x3kqBcphetnZf",
          "MrXYdSyMZoJpQSxdCkYcDaQFnng",
          "IkT0d2fpuoytOZxKzIUcsiZWn7c",
          "Fw1Nd5LxCo6A4MxoBU7c4gnTnGb",
          "Zzyadou3HoLAa7xgd9gc5JAYn3b",
          "NX4PdwetSo1jKXxI4Ayce1iknFg",
          "Udc7d7gKYo3UQLxfVtzcJXZknEg",
          "MDQQdEhFyomlE5xPL7Yca0Zunsf",
          "JH1rdu3SmoQPfhxqPOCcemblnDd",
          "Vq8LdQ516oEz5Ex7vqjc7GYensQ",
          "JSMzdijUpoWP7ZxgwOvcAQKBnVg",
          "IHLidpczpoZIYexrH4pc1mS2nUe",
          "QYmPdxUGDo7cD5xWGL8cn0kmn7b"
        ],
        "page": {
          "elements": [
            {
              "text_run": {
                "content": "BM25",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1
          }
        },
        "parent_id": ""
      },
      {
        "block_id": "JZFodjkaWo5LpkxAx1xcoNSAnDb",
        "block_type": 2,
        "parent_id": "E1IMdJ1J8oMuiMx7x9JcKapjnZd",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "BM25",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "link": {
                    "url": "https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FOkapi_BM25"
                  },
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " is a ranking function used in information retrieval to estimate the relevance of documents to a given search query. It enhances the basic term frequency approach by incorporating document length normalization and term frequency saturation. BM25 can generate sparse embeddings by representing documents as vectors of term importance scores, allowing for efficient retrieval and ranking in sparse vector spaces.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "IXzpdzPRTohYzCxb9ozcHi2MnBf",
        "block_type": 2,
        "parent_id": "E1IMdJ1J8oMuiMx7x9JcKapjnZd",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Milvus integrates with the ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "BM25",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " model using the ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "BM25EmbeddingFunction",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " class. This class handles the computation of embeddings and returns them in a format compatible with Milvus for indexing and searching. Essential to this process is building an analyzer for tokenization.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "LzPnd7fzWoHpZbxAuI7c62pxnod",
        "block_type": 2,
        "parent_id": "E1IMdJ1J8oMuiMx7x9JcKapjnZd",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "To easily create a tokenizer, Milvus offers a default analyzer that only requires specifying the language of the text.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "NQSmdAqHeoSfl9xtIZ7cgiRhn0c",
        "block_type": 2,
        "parent_id": "E1IMdJ1J8oMuiMx7x9JcKapjnZd",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Example",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ":",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "LpWmdOj69oK7PJxGq3DcIdainGd",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "from pymilvus.model.sparse.bm25.tokenizers import build_default_analyzer\nfrom pymilvus.model.sparse import BM25EmbeddingFunction\n\n# there are some built-in analyzers for several languages, now we use 'en' for English.\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "analyzer = build_default_analyzer(language=\"en\")",
                "text_element_style": {
                  "bold": false,
                  "comment_ids": [
                    "7345824784879550468"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "\n\ncorpus = [\n    \"Artificial intelligence was founded as an academic discipline in 1956.\",\n    \"Alan Turing was the first person to conduct substantial research in AI.\",\n    \"Born in Maida Vale, London, Turing was raised in southern England.\",\n]\n\n# analyzer can tokenize the text into tokens\ntokens = analyzer(corpus[0])\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "print(\"tokens:\", tokens)",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "comment_ids": [
          "7345824784879550468"
        ],
        "parent_id": "E1IMdJ1J8oMuiMx7x9JcKapjnZd"
      },
      {
        "block_id": "BKjddCYqIoV06sxbY6nceCuNnKf",
        "block_type": 2,
        "parent_id": "E1IMdJ1J8oMuiMx7x9JcKapjnZd",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Parameters",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ":",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "RNeMd4EuyorfYgx9vSqcYP9enNf",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "language",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " (",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "string",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": true,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ")",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "children": [
          "VDsRdAHhaoyTw1xqNlLcU8s9nfg"
        ],
        "parent_id": "E1IMdJ1J8oMuiMx7x9JcKapjnZd"
      },
      {
        "block_id": "VDsRdAHhaoyTw1xqNlLcU8s9nfg",
        "block_type": 2,
        "parent_id": "RNeMd4EuyorfYgx9vSqcYP9enNf",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "The language of the text to be tokenized. Valid options are ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "en",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " (English), ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "de",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " (German), ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "fr",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " (French), ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "ru",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " (Russian), ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "sp",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " (Spanish), ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "it",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " (Italian), ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "pt",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " (Portuguese), ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "zh",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " (Chinese), ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "jp",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " (Japanese), ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "kr",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " (Korean).",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "PFGpdNeYAoELSixB8mBcYC84nGH",
        "block_type": 2,
        "parent_id": "E1IMdJ1J8oMuiMx7x9JcKapjnZd",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "The expected output is similar to the following:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "PHAkdCuyPo7xqDxhJiBcKwL2nTO",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "tokens: ['artifici', 'intellig', 'found', 'academ', 'disciplin', '1956']",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "E1IMdJ1J8oMuiMx7x9JcKapjnZd"
      },
      {
        "block_id": "RrRbds088oAfH7x3kqBcphetnZf",
        "block_type": 2,
        "parent_id": "E1IMdJ1J8oMuiMx7x9JcKapjnZd",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "The BM25 algorithm processes text by first breaking it into tokens using a built-in analyzer, as shown with English language tokens like ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "'artifici'",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ", ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "'intellig'",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ", and ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "'academ'",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ". It then gathers statistics on these tokens, evaluating their frequency and distribution across documents. The core of BM25 calculates the relevance score of each token based on its importance, with rarer tokens receiving higher scores. This concise process enables effective ranking of documents by relevance to a query.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "MrXYdSyMZoJpQSxdCkYcDaQFnng",
        "block_type": 2,
        "parent_id": "E1IMdJ1J8oMuiMx7x9JcKapjnZd",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "To gather statistics on the corpus, use the ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "fit()",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " method:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "IkT0d2fpuoytOZxKzIUcsiZWn7c",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "# Use the analyzer to instantiate the BM25EmbeddingFunction\nbm25_ef = BM25EmbeddingFunction(analyzer)\n\n# Fit the model on the corpus to get the statstics of the corpus\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "bm25_ef.fit(corpus)",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "E1IMdJ1J8oMuiMx7x9JcKapjnZd"
      },
      {
        "block_id": "Fw1Nd5LxCo6A4MxoBU7c4gnTnGb",
        "block_type": 2,
        "parent_id": "E1IMdJ1J8oMuiMx7x9JcKapjnZd",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Then, use ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "encode_documents()",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " to create embeddings for documents: ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "Zzyadou3HoLAa7xgd9gc5JAYn3b",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "docs = [\n    \"The field of artificial intelligence was established as an academic subject in 1956.\",\n    \"Alan Turing was the pioneer in conducting significant research in artificial intelligence.\",\n    \"Originating in Maida Vale, London, Turing grew up in the southern regions of England.\",\n    \"In 1956, artificial intelligence emerged as a scholarly field.\",\n    \"Turing, originally from Maida Vale, London, was brought up in the south of England.\"\n]\n\n# Create embeddings for the documents\ndocs_embeddings = bm25_ef.encode_documents(docs)\n\n# Print embeddings\nprint(\"Embeddings:\", docs_embeddings)\n# Since the output embeddings are in a 2D csr_array format, we convert them to a list for easier manipulation.\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "print(\"Sparse dim:\", bm25_ef.dim, list(docs_embeddings)[0].shape)",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "E1IMdJ1J8oMuiMx7x9JcKapjnZd"
      },
      {
        "block_id": "NX4PdwetSo1jKXxI4Ayce1iknFg",
        "block_type": 2,
        "parent_id": "E1IMdJ1J8oMuiMx7x9JcKapjnZd",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "The expected output is similar to the following:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "Udc7d7gKYo3UQLxfVtzcJXZknEg",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "Embeddings:   (0, 0)        1.0208816705336425\n  (0, 1)        1.0208816705336425\n  (0, 3)        1.0208816705336425\n...\n  (4, 16)        0.9606986899563318\n  (4, 17)        0.9606986899563318\n  (4, 20)        0.9606986899563318\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "Sparse dim: 21 (1, 21)",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "E1IMdJ1J8oMuiMx7x9JcKapjnZd"
      },
      {
        "block_id": "MDQQdEhFyomlE5xPL7Yca0Zunsf",
        "block_type": 2,
        "parent_id": "E1IMdJ1J8oMuiMx7x9JcKapjnZd",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "To create embeddings for queries, use the ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "encode_queries()",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " method:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "JH1rdu3SmoQPfhxqPOCcemblnDd",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "queries = [\"When was artificial intelligence founded\", \n           \"Where was Alan Turing born?\"]\n\nquery_embeddings = bm25_ef.encode_queries(queries)\n\n# Print embeddings\nprint(\"Embeddings:\", query_embeddings)\n# Since the output embeddings are in a 2D csr_array format, we convert them to a list for easier manipulation.\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "print(\"Sparse dim:\", bm25_ef.dim, list(query_embeddings)[0].shape)",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "E1IMdJ1J8oMuiMx7x9JcKapjnZd"
      },
      {
        "block_id": "Vq8LdQ516oEz5Ex7vqjc7GYensQ",
        "block_type": 2,
        "parent_id": "E1IMdJ1J8oMuiMx7x9JcKapjnZd",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "The expected output is similar to the following:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "JSMzdijUpoWP7ZxgwOvcAQKBnVg",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "Embeddings:   (0, 0)        0.5108256237659907\n  (0, 1)        0.5108256237659907\n  (0, 2)        0.5108256237659907\n  (1, 6)        0.5108256237659907\n  (1, 7)        0.11554389108992644\n  (1, 14)        0.5108256237659907\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "Sparse dim: 21 (1, 21)",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "E1IMdJ1J8oMuiMx7x9JcKapjnZd"
      },
      {
        "block_id": "IHLidpczpoZIYexrH4pc1mS2nUe",
        "block_type": 2,
        "parent_id": "E1IMdJ1J8oMuiMx7x9JcKapjnZd",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Notes:",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "QYmPdxUGDo7cD5xWGL8cn0kmn7b",
        "block_type": 2,
        "comment_ids": [
          "7347693033443770372"
        ],
        "parent_id": "E1IMdJ1J8oMuiMx7x9JcKapjnZd",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "When using ",
                "text_element_style": {
                  "bold": false,
                  "comment_ids": [
                    "7347693033443770372"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "BM25EmbeddingFunction",
                "text_element_style": {
                  "bold": true,
                  "comment_ids": [
                    "7347693033443770372"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ", note that ",
                "text_element_style": {
                  "bold": false,
                  "comment_ids": [
                    "7347693033443770372"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "encoding_queries()",
                "text_element_style": {
                  "bold": true,
                  "comment_ids": [
                    "7347693033443770372"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " and ",
                "text_element_style": {
                  "bold": false,
                  "comment_ids": [
                    "7347693033443770372"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "encoding_documents()",
                "text_element_style": {
                  "bold": true,
                  "comment_ids": [
                    "7347693033443770372"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " operations cannot be interchanged mathematically. Therefore, there is no implemented ",
                "text_element_style": {
                  "bold": false,
                  "comment_ids": [
                    "7347693033443770372"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "bm25_ef(texts)",
                "text_element_style": {
                  "bold": true,
                  "comment_ids": [
                    "7347693033443770372"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " available.",
                "text_element_style": {
                  "bold": false,
                  "comment_ids": [
                    "7347693033443770372"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      }
    ],
    "counts": 24
  }
}