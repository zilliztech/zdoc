{
  "creator": "ou_e55a208a81fc721928685fc3df9cb678",
  "has_child": false,
  "node_create_time": "1710222372",
  "node_token": "WUUzwAQ2PivnZJkaBo1cGG4Hnxe",
  "node_type": "origin",
  "obj_create_time": "1710222372",
  "obj_edit_time": "1710726710",
  "obj_token": "S9rudNQJnoXN2Cxny3Tc1SMindb",
  "obj_type": "docx",
  "origin_node_token": "WUUzwAQ2PivnZJkaBo1cGG4Hnxe",
  "origin_space_id": "7314484612833640452",
  "owner": "ou_e55a208a81fc721928685fc3df9cb678",
  "parent_node_token": "Q7rswYdeeiXpRPkMDuncCudgnHh",
  "space_id": "7314484612833640452",
  "title": "SPLADE",
  "slug": "embed-with-splade",
  "blocks": {
    "items": [
      {
        "block_id": "S9rudNQJnoXN2Cxny3Tc1SMindb",
        "block_type": 1,
        "children": [
          "JzGqdpCN5oKCbDx6yYPcfqWRnQX",
          "EfJVdA0aUokFNyxSA72cP5vnn7j",
          "I8IHd6roJoLvvsxqb5rc04HEntf",
          "EUNEdHqHZo97pwx7WvHcHClEntf",
          "CycUdChUyo3UIxxUyVScQ7A4nod",
          "PoIodjOemo58eQxBDJkcTc9KnSe",
          "CzLNdqLS2oGMzJxmNfGcnbK8nHc",
          "UfZLdQB8IoCBdwx1S1UcTTOIn7g",
          "Jujkdt1Afo1aVwxLZBWcngQSnNb",
          "CInhduqVmoTCgfx88prc3XpKnLV",
          "LNdodfcQcojte6xRtzMcfA8ynKv",
          "GN0NdwXIZo7e6jxu5lpckmNmnWh",
          "KHOWdtGnSoflC8xCdmXcfDNxn9d",
          "SZ4hd6ujnoNHjjxaPFIczhiHnzb",
          "ALIHdJ9kbob84zxJw8McCPTOnxe"
        ],
        "page": {
          "elements": [
            {
              "text_run": {
                "content": "SPLADE",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1
          }
        },
        "parent_id": ""
      },
      {
        "block_id": "JzGqdpCN5oKCbDx6yYPcfqWRnQX",
        "block_type": 2,
        "parent_id": "S9rudNQJnoXN2Cxny3Tc1SMindb",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "SPLADE",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "link": {
                    "url": "https%3A%2F%2Farxiv.org%2Fabs%2F2109.10086"
                  },
                  "strikethrough": false,
                  "underline": true
                }
              }
            },
            {
              "text_run": {
                "content": " embedding is a model that offers highly sparse representations for documents and queries, inheriting desirable properties from bag-of-words (BOW) models such as exact term matching and efficiency.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "EfJVdA0aUokFNyxSA72cP5vnn7j",
        "block_type": 2,
        "parent_id": "S9rudNQJnoXN2Cxny3Tc1SMindb",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Milvus integrates with the ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "SPLADE",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " model via the ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "SpladeEmbeddingFunction",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " class. This class provides methods for encoding documents and queries and returning the embeddings as sparse vectors compatible with Milvus indexing.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "I8IHd6roJoLvvsxqb5rc04HEntf",
        "block_type": 2,
        "comment_ids": [
          "7345807565353385988"
        ],
        "parent_id": "S9rudNQJnoXN2Cxny3Tc1SMindb",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "To instantiate the ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "Splade",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "EmbeddingFunction",
                "text_element_style": {
                  "bold": true,
                  "comment_ids": [
                    "7345807565353385988"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ", use the command:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "EUNEdHqHZo97pwx7WvHcHClEntf",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "from pymilvus import model\n\nsplade_ef = model.sparse.SpladeEmbeddingFunction(\n    model_name=\"naver/splade-cocondenser-selfdistil\", \n    device=\"cpu\"\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ")",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "S9rudNQJnoXN2Cxny3Tc1SMindb"
      },
      {
        "block_id": "CycUdChUyo3UIxxUyVScQ7A4nod",
        "block_type": 2,
        "parent_id": "S9rudNQJnoXN2Cxny3Tc1SMindb",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Parameters",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ":",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "PoIodjOemo58eQxBDJkcTc9KnSe",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "model_name",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " (",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "string",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": true,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ")",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "children": [
          "RuKEdu8Llo1q9XxAfxYctPHinlc"
        ],
        "parent_id": "S9rudNQJnoXN2Cxny3Tc1SMindb"
      },
      {
        "block_id": "RuKEdu8Llo1q9XxAfxYctPHinlc",
        "block_type": 2,
        "comment_ids": [
          "7346444544751632387",
          "7346445016209440772"
        ],
        "parent_id": "PoIodjOemo58eQxBDJkcTc9KnSe",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "The name of the SPLADE model to use for encoding. Valid options are ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "naver/splade-cocondenser-ensembledistil",
                "text_element_style": {
                  "bold": true,
                  "comment_ids": [
                    "7346444544751632387"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " (default),",
                "text_element_style": {
                  "bold": false,
                  "comment_ids": [
                    "7346444544751632387"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "naver/splade_v2_max",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ", ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "naver/splade_v2_distil",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ", and ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "naver/splade-cocondenser-selfdistil",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ". For more information,",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " refer to ",
                "text_element_style": {
                  "bold": false,
                  "comment_ids": [
                    "7346445016209440772"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "Play with models",
                "text_element_style": {
                  "bold": false,
                  "comment_ids": [
                    "7346445016209440772"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "link": {
                    "url": "https%3A%2F%2Fgithub.com%2Fnaver%2Fsplade%3Ftab%3Dreadme-ov-file%23playing-with-the-model"
                  },
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ".",
                "text_element_style": {
                  "bold": false,
                  "comment_ids": [
                    "7346445016209440772"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "CzLNdqLS2oGMzJxmNfGcnbK8nHc",
        "block_type": 12,
        "bullet": {
          "elements": [
            {
              "text_run": {
                "content": "device",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " (",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "string",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": true,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ")",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "children": [
          "Ap8kdKWQhoKkLxx3lLLclI24nxh"
        ],
        "parent_id": "S9rudNQJnoXN2Cxny3Tc1SMindb"
      },
      {
        "block_id": "Ap8kdKWQhoKkLxx3lLLclI24nxh",
        "block_type": 2,
        "parent_id": "CzLNdqLS2oGMzJxmNfGcnbK8nHc",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "The device to use, with ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "cpu",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " for the CPU and ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "cuda:n",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " for the nth GPU device.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "UfZLdQB8IoCBdwx1S1UcTTOIn7g",
        "block_type": 2,
        "parent_id": "S9rudNQJnoXN2Cxny3Tc1SMindb",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "To create embeddings for documents, use the ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "encode_documents()",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " method:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "Jujkdt1Afo1aVwxLZBWcngQSnNb",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "docs = [\n    \"Artificial intelligence was founded as an academic discipline in 1956.\",\n    \"Alan Turing was the first person to conduct substantial research in AI.\",\n    \"Born in Maida Vale, London, Turing was raised in southern England.\",\n]\n\ndocs_embeddings = splade_ef.encode_documents(docs)\n\n# Print embeddings\nprint(\"Embeddings:\", docs_embeddings)\n# since the output embeddings are in a 2D csr_array format, we convert them to a list for easier manipulation.\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "print(\"Sparse dim:\", splade_ef.dim, list(docs_embeddings)[0].shape)",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "S9rudNQJnoXN2Cxny3Tc1SMindb"
      },
      {
        "block_id": "CInhduqVmoTCgfx88prc3XpKnLV",
        "block_type": 2,
        "parent_id": "S9rudNQJnoXN2Cxny3Tc1SMindb",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "The expected output is similar to the following:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "LNdodfcQcojte6xRtzMcfA8ynKv",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "Embeddings:   (0, 2001) 0.6392706036567688\n  (0, 2034) 0.024093208834528923\n  (0, 2082) 0.3230178654193878\n...\n  (2, 23602)    0.5671860575675964\n  (2, 26757)    0.5770265460014343\n  (2, 28639)    3.1990697383880615\n",
                "text_element_style": {
                  "bold": false,
                  "comment_ids": [
                    "7345808027763752964"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "Sparse dim: 30522 (1, 30522)",
                "text_element_style": {
                  "bold": false,
                  "comment_ids": [
                    "7345808027763752964"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "comment_ids": [
          "7345808027763752964"
        ],
        "parent_id": "S9rudNQJnoXN2Cxny3Tc1SMindb"
      },
      {
        "block_id": "GN0NdwXIZo7e6jxu5lpckmNmnWh",
        "block_type": 2,
        "parent_id": "S9rudNQJnoXN2Cxny3Tc1SMindb",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "To create embeddings for queries, use the ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "encode_queries()",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " method:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "KHOWdtGnSoflC8xCdmXcfDNxn9d",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "queries = [\"When was artificial intelligence founded\", \n           \"Where was Alan Turing born?\"]\n\nquery_embeddings = splade_ef.encode_queries(queries)\n\n# Print embeddings\nprint(\"Embeddings:\", query_embeddings)\n# since the output embeddings are in a 2D csr_array format, we convert them to a list for easier manipulation.\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "print(\"Sparse dim:\", splade_ef.dim, list(query_embeddings)[0].shape)",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "S9rudNQJnoXN2Cxny3Tc1SMindb"
      },
      {
        "block_id": "SZ4hd6ujnoNHjjxaPFIczhiHnzb",
        "block_type": 2,
        "parent_id": "S9rudNQJnoXN2Cxny3Tc1SMindb",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "The expected output is similar to the following:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "ALIHdJ9kbob84zxJw8McCPTOnxe",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "Embeddings:   (0, 2001)        0.6353746056556702\n  (0, 2194)        0.015553371049463749\n  (0, 2301)        0.2756537199020386\n...\n  (1, 18522)        0.1282549500465393\n  (1, 23602)        0.13133203983306885\n  (1, 28639)        2.8150033950805664\n",
                "text_element_style": {
                  "bold": false,
                  "comment_ids": [
                    "7345808099489497091"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "Sparse dim: 30522 (1, 30522)",
                "text_element_style": {
                  "bold": false,
                  "comment_ids": [
                    "7345808099489497091"
                  ],
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "comment_ids": [
          "7345808099489497091"
        ],
        "parent_id": "S9rudNQJnoXN2Cxny3Tc1SMindb"
      }
    ],
    "counts": 18
  }
}