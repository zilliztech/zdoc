{
  "creator": "ou_8554528ee6e965bad56710acde1c7847",
  "has_child": false,
  "node_create_time": "1708764316",
  "node_token": "DzxkwMyxzifAFxkXZiqcErjtnke",
  "node_type": "origin",
  "obj_create_time": "1708764316",
  "obj_edit_time": "1713170516",
  "obj_token": "DcdTd4EpRoYDH6xl1Ixc83zEnFh",
  "obj_type": "docx",
  "origin_node_token": "DzxkwMyxzifAFxkXZiqcErjtnke",
  "origin_space_id": "7167193056431783939",
  "owner": "ou_8554528ee6e965bad56710acde1c7847",
  "parent_node_token": "KEKtwN7kUiIf7akFPlOcFCkmnQe",
  "space_id": "7167193056431783939",
  "title": "Enable Dynamic Field",
  "slug": "enable-dynamic-field",
  "blocks": {
    "items": [
      {
        "block_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh",
        "block_type": 1,
        "children": [
          "doxcnVAI1Q8Z9SYNwqqrQYbxXwc",
          "doxcnJdQ6zYXh2Hc6ctpImm23He",
          "doxcncaOvOS03ADTmALWLv5zxjg",
          "RWntd03cWo4bG8xbJWdckC2EnzL",
          "FOKNdsCzmoUPXcxxQBRcx2ZEnNb",
          "doxcnASxrKPpus2sJWTmtF0gXId",
          "doxcnFBtRroiBBuUtccZVuXkA4c",
          "DbnQd8czuonVvpxGRpXc1g1pnVd",
          "doxcnmsfTam0LhMDcWoZ1MMJsFg",
          "doxcn98EK29uMS4amsx3pbJ3tHe",
          "doxcnoReOmuNTqzSp5cuqR9HZmg",
          "doxcnC1jtfWOpvJkgFDMibG8FSd",
          "doxcn59fSCxnrKDea06Roo15sDb",
          "doxcnmrKgUYebdipwGWZdeJ4gfc",
          "A8VOda17woG20sxPu2uc1Eznnve",
          "doxcnvmkqOaBPHAoRNYM38kwUqh",
          "doxcnDUfQIRwv5H8RkaSkyrYALh",
          "doxcnjTkAEOKGDLTzb7oX8jAEnb",
          "VkG3dNC8YofRB2xV53ocDTdvnle",
          "D5kZdvAD2oy4lUx2dJRceKpcnod",
          "doxcnN7VYiapNCBiOHpLphrQXWg",
          "doxcni7y3tFulgTlp1A56rTIEKc",
          "doxcnpw8oesu62RxXMJIBJ1J1uh",
          "doxcnBQzmJtWy1ceJXJll97oymh",
          "doxcnY2WxfB0RMNKHs29EinfvQb",
          "doxcnYhVOae4JVQHu9s8iQWqjjb",
          "doxcn929Le4MxFUDaoYryC9ymmd",
          "doxcnedciRj8N64XjquUxXhEnph",
          "doxcnnzCWTbYAY8GpKE9MWBkDqc",
          "doxcn6d0moT1cEhxZD2uZE1D0bd",
          "doxcnR3P0fYYpRUsknhOq3GHMhf",
          "doxcnlWJks81Hmt1R0LodotUob1",
          "doxcnCqMTmvK2OkbI6dutXiGrWb",
          "doxcnsFe3P1BQeZIxwKTxgIqmgh"
        ],
        "page": {
          "elements": [
            {
              "text_run": {
                "content": "Enable Dynamic Field",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1
          }
        },
        "parent_id": ""
      },
      {
        "block_id": "doxcnVAI1Q8Z9SYNwqqrQYbxXwc",
        "block_type": 2,
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "This page explains how to use the dynamic field in a collection for flexible data insertion and retrieval.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "doxcnJdQ6zYXh2Hc6ctpImm23He",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "Overview",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh"
      },
      {
        "block_id": "doxcncaOvOS03ADTmALWLv5zxjg",
        "block_type": 2,
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Zilliz Cloud allows you to define the schema of a collection by setting the name and the data type of each specific field so that you can create indexes in these fields for improved search performance.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "RWntd03cWo4bG8xbJWdckC2EnzL",
        "block_type": 2,
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Once a field is defined, you need to include this field when you insert data. What if some fields are not always present in all your data entries? This is where the dynamic field comes in.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "FOKNdsCzmoUPXcxxQBRcx2ZEnNb",
        "block_type": 2,
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "The dynamic field in a collection is a reserved JSON field named ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "$meta",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ". It can hold non-schema-defined fields and their values as key-value pairs. Using the dynamic field, you can search and query both schema-defined fields and any non-schema-defined fields they may have.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "doxcnASxrKPpus2sJWTmtF0gXId",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "Enable dynamic field",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh"
      },
      {
        "block_id": "doxcnFBtRroiBBuUtccZVuXkA4c",
        "block_type": 2,
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "When defining a schema for a collection, you can set ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "enable_dynamic_field",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " to ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "True",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " to enable the reserved dynamic field, indicating that any non-schema-defined fields and their values inserted later on will be saved as key-value pairs in the reserved dynamic field.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "DbnQd8czuonVvpxGRpXc1g1pnVd",
        "block_type": 2,
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "The following snippet creates a collection with two schema-defined fields, namely ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "id",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " and ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "vector",
                "text_element_style": {
                  "bold": false,
                  "inline_code": true,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ", and enables the dynamic field.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "doxcnmsfTam0LhMDcWoZ1MMJsFg",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "import random, time\nfrom pymilvus import connections, MilvusClient, DataType\n\nCLUSTER_ENDPOINT = \"YOUR_CLUSTER_ENDPOINT\"\nTOKEN = \"YOUR_CLUSTER_TOKEN\"\n\n# 1. Set up a Milvus client\nclient = MilvusClient(\n    uri=CLUSTER_ENDPOINT,\n    token=TOKEN \n)\n\n# 2. Create a collection\nschema = MilvusClient.create_schema(\n    auto_id=False,\n    # highlight-next-line\n    enable_dynamic_field=True,\n)\n\nschema.add_field(field_name=\"id\", datatype=DataType.INT64, is_primary=True)\nschema.add_field(field_name=\"vector\", datatype=DataType.FLOAT_VECTOR, dim=5)\n\nindex_params = MilvusClient.prepare_index_params()\n\nindex_params.add_index(\n    field_name=\"id\",\n    index_type=\"STL_SORT\"\n)\n\nindex_params.add_index(\n    field_name=\"vector\",\n    index_type=\"IVF_FLAT\",\n    metric_type=\"L2\",\n    params={\"nlist\": 1024}\n)\n\nclient.create_collection(\n    collection_name=\"test_collection\",\n    schema=schema,\n    index_params=index_params\n)\n\nres = client.get_load_state(\n    collection_name=\"test_collection\"\n)\n\nprint(res)\n\n# Output\n#\n# {\n#     \"state\": \"<LoadState: Loaded>\"\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "# }",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh"
      },
      {
        "block_id": "doxcn98EK29uMS4amsx3pbJ3tHe",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "import io.milvus.v2.client.ConnectConfig;\nimport io.milvus.v2.client.MilvusClientV2;\nimport io.milvus.v2.common.DataType;\nimport io.milvus.v2.common.IndexParam;\nimport io.milvus.v2.service.collection.request.AddFieldReq;\nimport io.milvus.v2.service.collection.request.CreateCollectionReq;\nimport io.milvus.v2.service.collection.request.GetLoadStateReq;\n\nString CLUSTER_ENDPOINT = \"YOUR_CLUSTER_ENDPOINT\";\nString TOKEN = \"YOUR_CLUSTER_TOKEN\";\n\n// 1. Connect to Milvus server\nConnectConfig connectConfig = ConnectConfig.builder()\n    .uri(CLUSTER_ENDPOINT)\n    .token(TOKEN)\n    .build();\n\nMilvusClientV2 client = new MilvusClientV2(connectConfig);\n\n// 2. Create a collection in customized setup mode\n\n// 2.1 Create schema\nCreateCollectionReq.CollectionSchema schema = client.createSchema();\n\n// 2.2 Add fields to schema\nschema.addField(AddFieldReq.builder().fieldName(\"id\").dataType(DataType.Int64).isPrimaryKey(true).autoID(false).build());\nschema.addField(AddFieldReq.builder().fieldName(\"vector\").dataType(DataType.FloatVector).dimension(5).build());\n\n// 2.3 Prepare index parameters\nIndexParam indexParamForIdField = IndexParam.builder()\n    .fieldName(\"id\")\n    .indexType(IndexParam.IndexType.STL_SORT)\n    .build();\n\nIndexParam indexParamForVectorField = IndexParam.builder()\n    .fieldName(\"vector\")\n    .indexType(IndexParam.IndexType.IVF_FLAT)\n    .metricType(IndexParam.MetricType.IP)\n    .extraParams(Map.of(\"nlist\", 1024))\n    .build();\n\nList<IndexParam> indexParams = new ArrayList<>();\nindexParams.add(indexParamForIdField);\nindexParams.add(indexParamForVectorField);\n\n// 2.4 Create a collection with schema and index parameters\nCreateCollectionReq customizedSetupReq = CreateCollectionReq.builder()\n    .collectionName(\"customized_setup\")\n    .collectionSchema(schema)\n    .indexParams(indexParams)\n    // highlight-next-line\n    .enableDynamicField(true)\n    .build();\n\nclient.createCollection(customizedSetupReq);\n\nThread.sleep(5000);\n\n// 2.5 Get load state of the collection\nGetLoadStateReq customSetupLoadStateReq1 = GetLoadStateReq.builder()\n    .collectionName(\"customized_setup\")\n    .build();\n\nboolean res = client.getLoadState(customSetupLoadStateReq1);\n\nSystem.out.println(res);\n\n// Output:\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "// true",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 29,
            "wrap": false
          }
        },
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh"
      },
      {
        "block_id": "doxcnoReOmuNTqzSp5cuqR9HZmg",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "const { MilvusClient, DataType, sleep } = require(\"@zilliz/milvus2-sdk-node\")\n\nconst address = \"YOUR_CLUSTER_ENDPOINT\"\nconst token = \"YOUR_CLUSTER_TOKEN\"\n\nasync function main() {\n// 1. Set up a Milvus Client\nclient = new MilvusClient({address, token}); \n\n// 2. Create a collection\n// 2.1 Define fields\nconst fields = [\n    {\n        name: \"id\",\n        data_type: DataType.Int64,\n        is_primary_key: true,\n        auto_id: false\n    },\n    {\n        name: \"vector\",\n        data_type: DataType.FloatVector,\n        dim: 5\n    },\n]\n\n// 2.2 Prepare index parameters\nconst index_params = [{\n    field_name: \"id\",\n    index_type: \"STL_SORT\"\n},{\n    field_name: \"vector\",\n    index_type: \"IVF_FLAT\",\n    metric_type: \"IP\",\n    params: { nlist: 1024}\n}]\n\n// 2.3 Create a collection with fields and index parameters\nres = await client.createCollection({\n    collection_name: \"test_collection\",\n    fields: fields, \n    index_params: index_params,\n    // highlight-next-line\n    enable_dynamic_field: true\n})\n\nconsole.log(res.error_code)\n\n// Output\n// \n// Success\n// \n\nres = await client.getLoadState({\n    collection_name: \"test_collection\",\n})  \n\nconsole.log(res.state)\n\n// Output\n// \n// LoadStateLoaded\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "// ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 30,
            "wrap": false
          }
        },
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh"
      },
      {
        "block_id": "doxcnC1jtfWOpvJkgFDMibG8FSd",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "Insert dynamic data",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh"
      },
      {
        "block_id": "doxcn59fSCxnrKDea06Roo15sDb",
        "block_type": 2,
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Once the collection is created with the dynamic field enabled, you can start inserting data, including any non-schema-defined fields and their values.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "doxcnmrKgUYebdipwGWZdeJ4gfc",
        "block_type": 5,
        "heading3": {
          "elements": [
            {
              "text_run": {
                "content": "Prepare data",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh"
      },
      {
        "block_id": "A8VOda17woG20sxPu2uc1Eznnve",
        "block_type": 2,
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "In this section, you need to prepare some randomly generated data for the insertion later on.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "doxcnvmkqOaBPHAoRNYM38kwUqh",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "colors = [\"green\", \"blue\", \"yellow\", \"red\", \"black\", \"white\", \"purple\", \"pink\", \"orange\", \"brown\", \"grey\"]\ndata = []\n\nfor i in range(1000):\n    current_color = random.choice(colors)\n    current_tag = random.randint(1000, 9999)\n    data.append({\n        \"id\": i,\n        \"vector\": [ random.uniform(-1, 1) for _ in range(5) ],\n        \"color\": current_color,\n        \"tag\": current_tag,\n        \"color_tag\": f\"{current_color}_{str(current_tag)}\"\n    })\n\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "print(data[0])",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh"
      },
      {
        "block_id": "doxcnDUfQIRwv5H8RkaSkyrYALh",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "List<String> colors = Arrays.asList(\"green\", \"blue\", \"yellow\", \"red\", \"black\", \"white\", \"purple\", \"pink\", \"orange\", \"brown\", \"grey\");\nList<JSONObject> data = new ArrayList<>();\n\nfor (int i=0; i<1000; i++) {\n    Random rand = new Random();\n    String current_color = colors.get(rand.nextInt(colors.size()-1));\n    int current_tag = rand.nextInt(8999) + 1000;\n    JSONObject row = new JSONObject();\n    row.put(\"id\", Long.valueOf(i));\n    row.put(\"vector\", Arrays.asList(rand.nextFloat(), rand.nextFloat(), rand.nextFloat(), rand.nextFloat(), rand.nextFloat()));\n    row.put(\"color\", current_color);\n    row.put(\"tag\", current_tag);\n    row.put(\"color_tag\", current_color + \"_\" + String.valueOf(rand.nextInt(8999) + 1000));\n    data.add(row);\n}\n\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "System.out.println(JSONObject.toJSON(data.get(0)));",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 29,
            "wrap": false
          }
        },
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh"
      },
      {
        "block_id": "doxcnjTkAEOKGDLTzb7oX8jAEnb",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "const colors = [\"green\", \"blue\", \"yellow\", \"red\", \"black\", \"white\", \"purple\", \"pink\", \"orange\", \"brown\", \"grey\"]\nvar data = []\n\nfor (let i = 0; i < 1000; i++) {\n    const current_color = colors[Math.floor(Math.random() * colors.length)]\n    const current_tag = Math.floor(Math.random() * 8999 + 1000)\n    data.push({\n        id: i,\n        vector: [Math.random(), Math.random(), Math.random(), Math.random(), Math.random()],\n        color: current_color,\n        tag: current_tag,\n        color_tag: `${current_color}_${current_tag}`\n    })\n}\n\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "console.log(data[0])",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 30,
            "wrap": false
          }
        },
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh"
      },
      {
        "block_id": "VkG3dNC8YofRB2xV53ocDTdvnle",
        "block_type": 2,
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "You can view the structure of the generated data by checking its first entry.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "D5kZdvAD2oy4lUx2dJRceKpcnod",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "{\n    id: 0,\n    vector: [\n        0.1275656405044483,\n        0.47417858592773277,\n        0.13858264437643286,\n        0.2390904907020377,\n        0.8447862593689635\n    ],\n    color: 'blue',\n    tag: 2064,\n    color_tag: 'blue_2064'\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "}",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 28,
            "wrap": false
          }
        },
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh"
      },
      {
        "block_id": "doxcnN7VYiapNCBiOHpLphrQXWg",
        "block_type": 5,
        "heading3": {
          "elements": [
            {
              "text_run": {
                "content": "Insert data",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh"
      },
      {
        "block_id": "doxcni7y3tFulgTlp1A56rTIEKc",
        "block_type": 2,
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "Then you can safely insert the data into the collection.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "doxcnpw8oesu62RxXMJIBJ1J1uh",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "res = client.insert(\n    collection_name=\"test_collection\",\n    data=data,\n)\n\nprint(res)\n\n# Output\n#\n# {\n#     \"insert_count\": 1000,\n#     \"ids\": [\n#         0,\n#         1,\n#         2,\n#         3,\n#         4,\n#         5,\n#         6,\n#         7,\n#         8,\n#         9,\n#         \"(990 more items hidden)\"\n#     ]\n# }\n\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "time.sleep(5)",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh"
      },
      {
        "block_id": "doxcnBQzmJtWy1ceJXJll97oymh",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "// 3.1 Insert data into the collection\nInsertReq insertReq = InsertReq.builder()\n    .collectionName(\"customized_setup\")\n    .data(data)\n    .build();\n\nInsertResp insertResp = client.insert(insertReq);\n\nSystem.out.println(JSONObject.toJSON(insertResp));\n\n// Output:\n// {\"insertCnt\": 1000}\n\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "Thread.sleep(5000);",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 29,
            "wrap": false
          }
        },
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh"
      },
      {
        "block_id": "doxcnY2WxfB0RMNKHs29EinfvQb",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "res = await client.insert({\n    collection_name: \"test_collection\",\n    data: data,\n})\n\nconsole.log(res.insert_cnt)\n\n// Output\n// \n// 1000\n// \n\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "await sleep(5000)",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 30,
            "wrap": false
          }
        },
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh"
      },
      {
        "block_id": "doxcnYhVOae4JVQHu9s8iQWqjjb",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "Search with dynamic fields",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh"
      },
      {
        "block_id": "doxcn929Le4MxFUDaoYryC9ymmd",
        "block_type": 2,
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "If you have created the collection with the dynamic field enabled and inserted non-schema-defined fields, you can use these fields in the filter expression of a search or a ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "query",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " as follows:",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "doxcnedciRj8N64XjquUxXhEnph",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "# 4. Search with dynamic fields\nquery_vectors = [[0.3580376395471989, -0.6023495712049978, 0.18414012509913835, -0.26286205330961354, 0.9029438446296592]]\n\nres = client.search(\n    collection_name=\"test_collection\",\n    data=query_vectors,\n    filter=\"color in [\\\"red\\\", \\\"green\\\"]\",\n    search_params={\"metric_type\": \"L2\", \"params\": {\"nprobe\": 10}},\n    limit=3\n)\n\nprint(res)\n\n# Output\n#\n# [\n#     [\n#         {\n#             \"id\": 863,\n#             \"distance\": 0.188413605093956,\n#             \"entity\": {\n#                 \"id\": 863,\n#                 \"color_tag\": \"red_2371\"\n#             }\n#         },\n#         {\n#             \"id\": 799,\n#             \"distance\": 0.29188022017478943,\n#             \"entity\": {\n#                 \"id\": 799,\n#                 \"color_tag\": \"red_2235\"\n#             }\n#         },\n#         {\n#             \"id\": 564,\n#             \"distance\": 0.3492690920829773,\n#             \"entity\": {\n#                 \"id\": 564,\n#                 \"color_tag\": \"red_9186\"\n#             }\n#         }\n#     ]\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "# ]",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh"
      },
      {
        "block_id": "doxcnnzCWTbYAY8GpKE9MWBkDqc",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "// 4. Search with non-schema-defined fields\nList<List<Float>> queryVectors = Arrays.asList(Arrays.asList(0.3580376395471989f, -0.6023495712049978f, 0.18414012509913835f, -0.26286205330961354f, 0.9029438446296592f));\n\nSearchReq searchReq = SearchReq.builder()\n    .collectionName(\"customized_setup\")\n    .data(queryVectors)\n    .filter(\"$meta[\\\"color\\\"] in [\\\"red\\\", \\\"green\\\"]\")\n    .outputFields(List.of(\"id\", \"color_tag\"))\n    .topK(3)\n    .build();\n\nSearchResp searchResp = client.search(searchReq);\n\nSystem.out.println(JSONObject.toJSON(searchResp));\n\n// Output:\n// {\"searchResults\": [[\n//     {\n//         \"distance\": 1.3159835,\n//         \"id\": 979,\n//         \"entity\": {\n//             \"color_tag\": \"red_7155\",\n//             \"id\": 979\n//         }\n//     },\n//     {\n//         \"distance\": 1.0744804,\n//         \"id\": 44,\n//         \"entity\": {\n//             \"color_tag\": \"green_8006\",\n//             \"id\": 44\n//         }\n//     },\n//     {\n//         \"distance\": 1.0060014,\n//         \"id\": 617,\n//         \"entity\": {\n//             \"color_tag\": \"red_4056\",\n//             \"id\": 617\n//         }\n//     }\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "// ]]}",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 29,
            "wrap": false
          }
        },
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh"
      },
      {
        "block_id": "doxcn6d0moT1cEhxZD2uZE1D0bd",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "// 4. Search with non-schema-defined fields\nconst query_vectors = [[0.1, 0.2, 0.3, 0.4, 0.5]]\n\nres = await client.search({\n    collection_name: \"test_collection\",\n    data: query_vectors,\n    filter: \"color in [\\\"red\\\", \\\"green\\\"]\",\n    output_fields: [\"color_tag\"],\n    limit: 3\n})\n\nconsole.log(res.results)\n\n// Output\n// \n// [\n//   { score: 1.2284551858901978, id: '301', color_tag: 'red_1270' },\n//   { score: 1.2195171117782593, id: '205', color_tag: 'red_2780' },\n//   { score: 1.2055039405822754, id: '487', color_tag: 'red_6653' }\n// ]\n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "// ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 30,
            "wrap": false
          }
        },
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh"
      },
      {
        "block_id": "doxcnR3P0fYYpRUsknhOq3GHMhf",
        "block_type": 4,
        "heading2": {
          "elements": [
            {
              "text_run": {
                "content": "Recaps",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        },
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh"
      },
      {
        "block_id": "doxcnlWJks81Hmt1R0LodotUob1",
        "block_type": 2,
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "It is worth noting that ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "color",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ", ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "tag",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": ", and ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "color_tag",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " are not present when you define the collection schema, but you can use them as schema-defined fields when you conduct searches and queries.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "doxcnCqMTmvK2OkbI6dutXiGrWb",
        "block_type": 2,
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh",
        "text": {
          "elements": [
            {
              "text_run": {
                "content": "If the name of a non-schema-defined field contains characters other than digits, letters, and underscores, such as plus signs (+), asterisks (*), or dollar signs ($), you have to include the key within ",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "$meta[]",
                "text_element_style": {
                  "bold": true,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": " as shown in the following code snippet when using it in a boolean expression or including it in the output fields.",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "align": 1,
            "folded": false
          }
        }
      },
      {
        "block_id": "doxcnsFe3P1BQeZIxwKTxgIqmgh",
        "block_type": 14,
        "code": {
          "elements": [
            {
              "text_run": {
                "content": "... \nfilter='$meta[\"$key\"] in [\"a\", \"b\", \"c\"]', \noutput_fields='$meta[\"$key\"]'  \n",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            },
            {
              "text_run": {
                "content": "...",
                "text_element_style": {
                  "bold": false,
                  "inline_code": false,
                  "italic": false,
                  "strikethrough": false,
                  "underline": false
                }
              }
            }
          ],
          "style": {
            "language": 49,
            "wrap": false
          }
        },
        "parent_id": "DcdTd4EpRoYDH6xl1Ixc83zEnFh"
      }
    ],
    "counts": 35
  }
}