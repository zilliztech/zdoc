---
title: "データ耐障害性 | Cloud"
slug: /data-resilience
sidebar_label: "データ耐障害性"
beta: FALSE
added_since: FALSE
last_modified: FALSE
deprecate_since: FALSE
notebook: FALSE
description: "Zilliz Cloudは、完全管理型ベクターデータベースサービスとして、エンタープライズグレードの高可用性（HA）および災害復旧（DR）機能を提供し、さまざまな障害シナリオ下でもミッションクリティカルなデータおよびサービスの継続的な可用性を確保します。 | Cloud"
type: origin
token: YBDGwmFYkiRmRIkKGsscRjDmnIb
sidebar_position: 7
keywords:
  - zilliz
  - vector database
  - cloud
  - data resilience
  - ha
  - dr
  - rto
  - rpo
  - cost optimzation
  - what are vector databases
  - vector databases comparison
  - Faiss
  - Video search

---

import Admonition from '@theme/Admonition';


# データ耐障害性

Zilliz Cloudは、完全管理型ベクターデータベースサービスとして、エンタープライズグレードの**高可用性（HA）**および**災害復旧（DR）**機能を提供し、さまざまな障害シナリオ下でもミッションクリティカルなデータおよびサービスの継続的な可用性を確保します。

### 主要機能\{#core-capabilities}

- **高可用性（HA）**：自動障害検出および迅速なフェイルオーバーメカニズムにより、ノード、可用性ゾーン（AZ）、またはリージョンレベルの停止中でもサービス運用を中断することなく維持します。

- **災害復旧（DR）**：包括的なバックアップおよびリストア戦略により、重大なインシデント後の迅速なビジネス復旧を可能にします。

- **柔軟な耐障害性ティア**：標準からエンタープライズグレードのクロスリージョン展開まで、ビジネスシナリオ全体にわたる多様なRPO/RTO要件を満たすように調整されています。

- **コスト最適化**：ビジネス価値およびリスク許容度に基づいて最もコスト効果の高い耐障害性戦略を選択してください。

## 主要概念\{#key-concepts}

### 主要指標\{#core-metrics}

- **リカバリポイント目標（RPO）**：時間で測定される最大許容データ損失。たとえば、RPOが5分の場合、障害発生時に最大5分間の最近のデータが失われる可能性があります。

- **リカバリタイム目標（RTO）**：障害発生から完全なサービス復旧までの最大許容時間。これには、障害検出、フェイルオーバー意思決定、および実際の復旧が含まれます。

- **サービスレベル合意（SLA）**：Zilliz Cloudのサービス可用性へのコミットメントは通常、パーセント単位で表されます（たとえば、99.95％のアップタイムは、月あたり21.6分を超えないダウンタイムを意味します）。

### 故障許容範囲\{#fault-tolerance-scope}

- **ノードレベルの故障許容**：単一のコンピュートまたはストレージノードの故障

- **AZレベルの故障許容**：AZ全体の停止（データセンター故障など）

- **リージョンレベルの故障許容**：リージョン全体のサービス中断（自然災害など）

- **クラウドプロバイダーレベルの故障許容**：単一クラウドベンダーからのリスクを軽減するためのマルチクラウド展開

## 耐障害性アーキテクチャティア\{#resilience-architecture-tiers}

### 高可用性（HA）ティア\{#high-availability-ha-tiers}

<table>
   <tr>
     <th><p>ティア</p></th>
     <th><p>説明</p></th>
     <th><p>RPO</p></th>
     <th><p>RTO</p></th>
     <th><p>書き込みレイテンシ / 複製数スケジュール</p></th>
     <th><p>故障許容</p></th>
     <th><p>SLA</p></th>
     <th><p>相対的なコスト</p></th>
   </tr>
   <tr>
     <td><p><strong>標準</strong></p></td>
     <td><p>マルチレプリカメカニズムを持つシングルリージョン、シングルAZ展開</p></td>
     <td><p>0秒</p></td>
     <td><p>≤1分</p></td>
     <td><p>シングルAZ内での書き込み；WALがクォーラム経由で複製</p></td>
     <td><p>ノードレベルの故障</p><p>AZ：1</p><p>リージョン：1</p></td>
     <td><p>SLA保証なし</p></td>
     <td><p>低</p></td>
   </tr>
   <tr>
     <td><p><strong>エンタープライズ</strong></p></td>
     <td><p>自動フェイルオーバー付きの3つのAZにまたがるシングルリージョン展開</p></td>
     <td><p>0秒</p></td>
     <td><p>≤1分</p></td>
     <td><p>AZ間書き込み；WALがクォーラム経由で複製</p></td>
     <td><p>AZレベルの故障</p><p>AZ：3</p><p>リージョン：1</p></td>
     <td><p>99.95%</p></td>
     <td><p>中</p></td>
   </tr>
   <tr>
     <td><p><strong>エンタープライズマルチレプリカ</strong></p></td>
     <td><p>リージョン内でのアクティブ-アクティブマルチレプリカアーキテクチャ；高速フェイルオーバー付きの読み書き分離</p></td>
     <td><p>0秒</p></td>
     <td><p>≤10秒</p></td>
     <td><p>AZ間書き込み；WAL経由でのレプリカ間同期</p></td>
     <td><p>AZレベルの故障</p><p>AZ：3</p><p>リージョン：1</p></td>
     <td><p>99.99%</p></td>
     <td><p>中〜高</p></td>
   </tr>
   <tr>
     <td><p><strong>クロスリージョンHA</strong></p></td>
     <td><p>グローバルロードバランシング付きのマルチリージョン/マルチクラウド展開</p></td>
     <td><p>≤10秒</p></td>
     <td><p>手動または自動フェイルオーバー：</p><p>自動：≤3分</p></td>
     <td><p>AZ間の同期書き込み；他のリージョン/クラウドへの非同期レプリケーション</p></td>
     <td><p>リージョンレベルの故障</p><p>AZ：≥3</p><p>リージョン：≥2</p></td>
     <td><p>99.99%</p></td>
     <td><p>高</p></td>
   </tr>
</table>

<Admonition type="info" icon="📘" title="注釈">

<p>クロスリージョンHAは2025年11月に利用可能になります。インクリメンタルバックアップは2025年12月に利用可能になります。</p>

</Admonition>

### 災害復旧（DR）ティア\{#disaster-recovery-dr-tiers}

<table>
   <tr>
     <th><p>ティア</p></th>
     <th><p>説明</p></th>
     <th><p>RPO</p></th>
     <th><p>復旧速度</p></th>
     <th><p>バックアップ戦略</p></th>
     <th><p>使用例</p></th>
     <th><p>追加コスト</p></th>
   </tr>
   <tr>
     <td><p><strong>ローカルバックアップ</strong></p></td>
     <td><p>同一リージョンのオブジェクトストレージ；スケジュールされた完全バックアップ</p></td>
     <td><p>時間単位</p></td>
     <td><p>数分から数時間</p></td>
     <td><p>完全バックアップ</p></td>
     <td><p>誤操作削除、論理エラー復旧</p></td>
     <td><p>低</p></td>
   </tr>
   <tr>
     <td><p><strong>クロスリージョンバックアップ</strong></p></td>
     <td><p>異なるリージョンに保存されたバックアップデータ；リージョン災害からの保護</p></td>
     <td><p>時間単位</p></td>
     <td><p>数分から数時間</p></td>
     <td><p>リージョン/クラウド間にわたる完全バックアップの複製</p></td>
     <td><p>リージョン災害、コンプライアンス要件</p></td>
     <td><p>中</p></td>
   </tr>
   <tr>
     <td><p><strong>インクリメンタルバックアップ</strong></p></td>
     <td><p>リアルタイムインクリメンタルバックアップ；きめ細かい復旧ポイント</p></td>
     <td><p>≤1分</p></td>
     <td><p>数分から数時間</p></td>
     <td><p>トランザクションログの継続的なキャプチャ</p></td>
     <td><p>クリティカルワークロードのポイントインタイム復旧</p></td>
     <td><p>中〜高</p></td>
   </tr>
</table>

## クイック選択ガイド\{#quick-selection-guide}

### ビジネスティアリングおよび耐障害性推奨事項\{#business-tiering-and-resilience-recommendations}

#### **ティア1 – ミッションクリティカルワークロード**\{#tier-1-mission-critical-workloads}

- **特徴：** 24時間365日運用；わずかなダウンタイムでも重大な損失が発生；極めて高いビジネス価値

- **推奨：** クロスリージョンHA + エンタープライズマルチレプリカ + 継続的データ保護

- **目標：** RPO = 0秒、RTO < 30秒、クロスクラウド/リージョンDR

- **予想コスト：** 高

#### **ティア2 – 重要なビジネスシステム**\{#tier-2-important-business-systems}

- **特徴：** 24時間365日運用；高い安定性要求

- **推奨：** エンタープライズマルチレプリカ + クロスリージョンバックアップ

- **目標：** RPO = 0秒、RTO < 30秒

- **予想コスト：** 中〜高

#### **ティア3 – 一般アプリケーション**\{#tier-3-general-applications}

- **特徴：** ビジネス時間中に運用；コストに敏感；ある程度の復旧時間を容認

- **推奨：** エンタープライズ + ローカルバックアップ

- **目標：** RPO = 0秒、RTO < 3分

- **予想コスト：** 低〜中

#### **ティア4 – 非クリティカルワークロード**\{#tier-4-non-critical-workloads}

- **特徴：** 必須でないシステム；コストに敏感；スケジュールされたメンテナンスウィンドウを許容

- **推奨：** 標準 + ローカルバックアップ

- **目標：** RPO = 0秒、RTO < 3分

- **予想コスト：** 低〜中

### コスト最適化決定マトリックス\{#cost-optimization-decision-matrix}

<table>
   <tr>
     <th><p>ビジネスへの影響</p></th>
     <th><p>データ価値</p></th>
     <th><p>コンプライアンス要件</p></th>
     <th><p>推奨ソリューション</p></th>
     <th><p>コストレベル</p></th>
   </tr>
   <tr>
     <td><p>極めて高い</p></td>
     <td><p>極めて高い</p></td>
     <td><p>厳格</p></td>
     <td><p>クロスリージョンHA + 完全DR</p></td>
     <td><p>高</p></td>
   </tr>
   <tr>
     <td><p>高い</p></td>
     <td><p>高い</p></td>
     <td><p>中程度</p></td>
     <td><p>エンタープライズマルチレプリカ + クロスリージョンバックアップ</p></td>
     <td><p>中〜高</p></td>
   </tr>
   <tr>
     <td><p>中</p></td>
     <td><p>中</p></td>
     <td><p>基本</p></td>
     <td><p>エンタープライズ + ローカルバックアップ</p></td>
     <td><p>中</p></td>
   </tr>
   <tr>
     <td><p>低</p></td>
     <td><p>低</p></td>
     <td><p>なし</p></td>
     <td><p>標準 + 基本バックアップ</p></td>
     <td><p>低</p></td>
   </tr>
</table>

## よくある質問（FAQ）\{#frequently-asked-questions-faq}

**Q1: 標準プランおよびエンタープライズプランはどのようにして高可用性を実現していますか？**

**アーキテクチャ設計**

Zilliz Cloudは、3つのデータタイプを持つコンピュート・ストレージ分離アーキテクチャを使用します：

- **メタデータ：** etcdに保存（3つのレプリカ、RAFTプロトコル）

- **ログデータ：** 独自のWoodpeckerに保存（クォーラムプロトコル）

- **Rawデータおよびインデックスデータ：** オブジェクトストレージに保存、クラウドストレージのネイティブHAを継承

**コンピュートノードHA**

- Kubernetesによって自動スケジューリングで管理

- シングルノードまたはシングルAZの故障時にポッドが自動的に再生成

- コーディネーターが他のQueryNodeにセグメントを再割り当て

- インデックスおよびデータはストレージから再読み込みされる；復旧時間 < 1分

**コスト最適化**

- **複数永続レプリカ** + **動的インメモリ読み込み**を使用

    - 複数のインメモリレプリカを維持することによるコスト爆発を回避

    - DRアーキテクチャを簡素化

    - ログおよびオブジェクトストレージ帯域幅を利用してより高速な復旧を実現

**Q2: マルチレプリカメカニズムはどのように動作しますか？**

**コアメカニズム**

- **シャードレベル：** 複数のStreamNodeが主/待機の役割で同じシャードをロード

- **セグメントレベル：** 複数のQueryNodeが同じセグメントをロード；データは単一コピーとして永続化

**読み書き分離**

- **書き込み：** 主StreamNodeによって処理

- **読み取り：** 任意の待機StreamNodeまたはQueryNodeによって提供

**主な利点**

- **高速フェイルオーバー：** Proxyが自動的にトラフィックを待機ノードにリダイレクト

- **より高いQPS：** 複数のインメモリレプリカが読み取りスループットを向上

- **スムーズなアップグレード：** ローリングアップデートによりサービスのジッターを削減し、安定性を向上

**Q3: グローバルデータベースはクロスリージョンの高可用性をどのように実現しますか？**

**CDC同期**

- 変更データキャプチャ（CDC）がDDL、DML、およびバルクインポート操作を同期

- 通常の同期レイテンシ < 10秒

- RPOが非常に低いクロスリージョン/クロスクラウドDRを有効化

**データ書き込み戦略**

- 同一リージョン内での複数AZへの同期書き込み

- 書き込みレイテンシはAZ間レベル

- 極端なフェイルオーバーシナリオでは、データ損失 < 10秒

<Admonition type="info" icon="📘" title="注釈">

<p><strong>2026年のロードマップ：</strong> クロスリージョンWoodpeckerで<strong>RPO = 0</strong>を実現</p>

</Admonition>

**フェイルオーバーモード**

- **手動：** OpenAPIまたはWebコンソール経由

- **自動：** Zillizのヘルスチェックサービスが障害を検出し、1〜3分以内にフェイルオーバーを完了

**アクセスパターン**

<table>
   <tr>
     <th><p>モード</p></th>
     <th><p>特徴</p></th>
     <th><p>使用例</p></th>
   </tr>
   <tr>
     <td><p><strong>アクティブ-スタンバイDR</strong></p></td>
     <td><p>プライマリが読み書き処理；スタンバイはフェイルオーバー時のみ有効化</p></td>
     <td><p>標準災害復旧</p></td>
   </tr>
   <tr>
     <td><p><strong>アクティブ-アクティブ（マルチリード）</strong></p></td>
     <td><p>プライマリ書き込み；複数リージョンが読み取りを提供（最寄りリージョン読み取り）</p></td>
     <td><p>グローバル読み取り中心、低書き込みワークロード</p></td>
   </tr>
   <tr>
     <td><p><strong>マルチプライマリ</strong> <em>（2026年登場予定）</em></p></td>
     <td><p>両リージョンが書き込みを許可；ユーザーがデータ競合を回避する必要あり</p></td>
     <td><p>セルベースまたはシャーディングされた展開</p></td>
   </tr>
</table>

最新の機能更新または技術サポートについては、[Zilliz Cloudサポート](https://support.zilliz.com/hc/en-us)にお問い合わせください。