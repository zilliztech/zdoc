---
title: "マルチテナントを実装する | Cloud"
slug: /multi-tenancy
sidebar_label: "マルチテナントを実装する"
beta: FALSE
notebook: FALSE
description: "にZillizクラウドマルチテナントとは、複数の顧客またはチーム（テナントと呼ばれる）が同じクラスターを共有しながら、分離されたデータ環境を維持することを意味します。 | Cloud"
type: origin
token: R8amwM1K6iBDLuk0KcEcHJxtnhb
sidebar_position: 2
keywords: 
  - zilliz
  - vector database
  - cloud
  - milvus
  - multi-tenancy
  - RAG
  - NLP
  - Neural Network
  - Deep Learning

---

import Admonition from '@theme/Admonition';


# マルチテナントを実装する

にZillizクラウドマルチテナントとは、複数の顧客またはチーム（テナントと呼ばれる）が同じクラスターを共有しながら、分離されたデータ環境を維持することを意味します。 

Zillizクラウド4つのマルチテナント戦略をサポートし、それぞれがスケーラビリティ、データ分離、柔軟性の間で異なるトレードオフを提供します。このガイドでは、各オプションについて説明し、ユースケースに最適な戦略を選択するのに役立ちます。

## マルチテナント戦略{#multi-tenancy-strategies}

Zillizクラウド4つのレベルでマルチテナンシーをサポートしています:データベース、コレクション、パーティション、およびパーティションキー。 

### データベースレベルのマルチテナント{#database-level-multi-tenancy}

データベースレベルのマルチテナンシーでは、各テナントは1つ以上のコレクションを含む対応する[データベース](./database)を受け取ります。 

![NVV9w0w49hZJ61bNzG4cdi9gn6C](/img/NVV9w0w49hZJ61bNzG4cdi9gn6C.png)

- **スケーラビリティ**:データベースレベルのマルチテナント戦略でのみ利用可能ですZillizクラウド&#34;s専用クラスタープランと最大をサポートします。1,02 4テナントこれが私の人生です。

- データの分離:各データベース内のデータは完全に分離されており、規制された環境や厳格なコンプライアンスニーズを持つ顧客に最適なエンタープライズグレードのデータ分離を提供します。

- 柔軟性:各データベースは異なるスキーマを持つコレクションを持つことができ、非常に柔軟なデータ組織を提供し、各テナントが独自のデータスキーマを持つことができます。

- **その他**:この戦略はRBACもサポートしており、テナントごとのユーザーアクセスを細かく制御できます。さらに、特定のテナントのデータを柔軟にロードまたはリリースして、ホットデータとコールドデータを効果的に管理できます。

### コレクションレベルのマルチテナント{#collection-level-multi-tenancy}

コレクションレベルのマルチテナンシーでは、各テナントに[コレクション](./manage-collections)が割り当てられ、強力なデータ分離が提供されます。 

![SNxNwi64ChMFdubYKmrcGOH5ncg](/img/SNxNwi64ChMFdubYKmrcGOH5ncg.png)

- **スケーラビリティ**:クラスタは最大で保持できるため16,38 4コレクションこの戦略は、クラスター内の同じ数のテナントを収容できます。

- データの分離:コレクションは物理的に互いに分離されています。この戦略は強力なデータの分離を提供します。

- 柔軟性:この戦略により、各コレクションに独自のスキーマを持たせ、異なるデータスキーマを持つテナントに対応できます。

- その他:この戦略はRBACもサポートしており、テナントに対する細かいアクセス制御が可能です。さらに、特定のテナントのデータを柔軟にロードまたはリリースして、ホットデータとコールドデータを効果的に管理できます。

### パーティションレベルのマルチテナント{#partition-level-multi-tenancy}

パーティションレベルのマルチテナンシーでは、各テナントは、共有コレクション内で手動で作成された[パーティション](./manage-partitions)に割り当てられます。 

![D5cawfOk0hKkJmbJwHwc54a5n4f](/img/D5cawfOk0hKkJmbJwHwc54a5n4f.png)

- **スケーラビリティ**:コレクションは、1つのコレクションあたり最大1,024のパーティションを保持でき、同じ数のテナントを収容できます。

- **データ分離**:各テナントのデータはパーティションによって物理的に分離されています。

- **柔軟性**:この戦略では、すべてのテナントが同じデータスキーマを共有する必要があります。また、パーティションは手動で作成する必要があります。

- その他: RBACはパーティションレベルでサポートされていません。テナントは個別にクエリを実行することも、複数のパーティションを横断してクエリを実行することもできます。これは、テナントセグメント全体にわたる集計クエリや分析を含むシナリオに適しています。さらに、特定のテナントのデータを柔軟にロードまたはリリースして、ホットデータとコールドデータを効果的に管理することができます。

### パーティションキーレベルのマルチテナント{#partition-key-level-multi-tenancy}

この戦略では、すべてのテナントが単一のコレクションとスキーマを共有しますが、各テナントのデータは[パーティションキー](./use-partition-key)値に基づいて自動的に16の物理的に分離されたパーティションにルーティングされます。各物理パーティションには複数のテナントを含めることができますが、異なるテナントからのデータは論理的に分離されたままです。 

![GzOrwUHnEhaPGybcp7ActPwsnMh](/img/GzOrwUHnEhaPGybcp7ActPwsnMh.png)

- スケーラビリティ:パーティションキーレベル戦略は、何百万ものテナントをサポートする最もスケーラブルなアプローチを提供します。

- **データ分離**:この戦略は、物理パーティションに複数のテナントが共有できるため、比較的弱いデータ分離を提供します。

- 柔軟性:すべてのテナントが同じデータスキーマを共有する必要があるため、この戦略はデータの柔軟性に限界があります。

- その他: RBACはパーティションキーレベルでサポートされていません。テナントは個別にクエリを実行することも、複数のパーティションを横断してクエリを実行することもできます。これにより、テナントセグメント全体にわたる集計クエリや分析を必要とするシナリオに適しています。

## 適切なマルチテナント戦略の選択{#choosing-the-right-multi-tenancy-strategy}

以下の表は、マルチテナント戦略の4つのレベルの包括的な比較を提供しています。

<table>
   <tr>
     <th></th>
     <th><p><strong>データベースレベル</strong></p></th>
     <th><p><strong>Collection-level</strong></p></th>
     <th><p><strong>パーティションレベル</strong></p></th>
     <th><p><strong>パーティションのキーレベル</strong></p></th>
   </tr>
   <tr>
     <td><p><strong>プランの可用性</strong></p></td>
     <td><p>専用プランのみ</p></td>
     <td><p>すべてのプラン</p></td>
     <td><p>すべてのプラン</p></td>
     <td><p>すべてのプラン</p></td>
   </tr>
   <tr>
     <td><p><strong>データ分離</strong></p></td>
     <td><p>物理的な</p></td>
     <td><p>物理的な</p></td>
     <td><p>物理的な</p></td>
     <td><p>物理的な+論理的な</p></td>
   </tr>
   <tr>
     <td><p><strong>最大テナント数</strong></p></td>
     <td><p>102 4</p></td>
     <td><p>クラスタープランによって最大16,384まで。 </p><p>リンク_PLACEHOLDER_0</p></td>
     <td><p>クラスタープランに応じて、コレクションごとに最大1,024まで。 </p><p>リンク_PLACEHOLDER_0</p></td>
     <td><p>何百万も</p></td>
   </tr>
   <tr>
     <td><p><strong>データスキーマの柔軟性</strong></p></td>
     <td><p>高い</p></td>
     <td><p>ミディアム</p></td>
     <td><p>低い</p></td>
     <td><p>低い</p></td>
   </tr>
   <tr>
     <td><p><strong>RBACサポート</strong></p></td>
     <td><p>はい</p></td>
     <td><p>はい</p></td>
     <td><p>いいえ</p></td>
     <td><p>いいえ</p></td>
   </tr>
   <tr>
     <td><p><strong>検索パフォーマンス</strong></p></td>
     <td><p>強い</p></td>
     <td><p>強い</p></td>
     <td><p>ミディアム</p></td>
     <td><p>ミディアム</p></td>
   </tr>
   <tr>
     <td><p><strong>クロステナント検索サポート</strong></p></td>
     <td><p>いいえ</p></td>
     <td><p>いいえ</p></td>
     <td><p>はい</p></td>
     <td><p>はい</p></td>
   </tr>
   <tr>
     <td><p><strong>ホットデータとコールドデータの効果的な処理のサポート</strong></p></td>
     <td><p>はい</p></td>
     <td><p>はい</p></td>
     <td><p>はい</p></td>
     <td><p>いいえ</p><p>現在、パーティションキーレベル戦略はサポートされていません。しかし、大規模なテナントがあり、ホットデータとコールドデータを効果的に処理する必要がある場合は、<a href="https://zilliz.com/contact-sales">お問い合わせ</a>を使用してください。</p></td>
   </tr>
</table>

マルチテナント戦略を選択する際に考慮すべき要素がいくつかあります。Zillizクラウドこれが私の人生です。

1. **スケーラビリティ:**パーティションキー>パーティション>コレクション>データベース

    非常に多数のテナント(数百万以上)をサポートする必要がある場合は、パーティションキーレベル戦略を使用します。

1. **強力なデータ分離要件**:データベース=コレクション>パーティション>パーティションキー

    厳密な物理データ分離要件がある場合は、データベース、コレクション、またはパーティションレベルの戦略を選択します。 

1. **各テナントのデータに対する柔軟なデータスキーマ:**データベース>コレクション>パーティション=パーティションキー

    データベースレベルとコレクションレベルの戦略は、データスキーマに完全な柔軟性を提供します。テナントのデータ構造が異なる場合は、データベースレベルまたはコレクションレベルのマルチテナントを選択してください。

1. **その他**

    1. **パフォーマンス:**検索のパフォーマンスは、インデックス、検索パラメータ、およびマシンの構成など、さまざまな要因によって決定されます。Zillizクラウドパフォーマンスチューニングもサポートしています。マルチテナント戦略を選択する前に、実際のパフォーマンスをテストすることをお勧めします。

    1. ホットデータとコールドデータの効果的な処理:現在、データベースレベル、コレクションレベル、パーティションレベルの戦略はすべて、ホットデータとコールドデータの処理をサポートしています。パーティションキーレベルの戦略を選択したいが、ホットデータとコールドデータの処理が必要な場合は、[お問い合わせ](https://zilliz.com/contact-sales)を使用してください。

    1. クロステナント検索:パーティションレベルとパーティションキーレベルの戦略のみが、クロステナントクエリをサポートしています。

