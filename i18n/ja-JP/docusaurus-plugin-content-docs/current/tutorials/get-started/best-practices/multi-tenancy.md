---
title: "マルチテナンシーの実装 | Cloud"
slug: /multi-tenancy
sidebar_label: "マルチテナンシーの実装"
beta: FALSE
added_since: FALSE
last_modified: FALSE
deprecate_since: FALSE
notebook: FALSE
description: "Zilliz Cloudでは、マルチテナンシーとは、複数の顧客またはチーム（テナントと呼ばれます）が同じクラスターを共有しながらも、分離されたデータ環境を維持することを意味します。 | Cloud"
type: origin
token: R8amwM1K6iBDLuk0KcEcHJxtnhb
sidebar_position: 2
keywords:
  - zilliz
  - vector database
  - cloud
  - milvus
  - multi-tenancy
  - vector databases comparison
  - Faiss
  - Video search
  - AI Hallucination

---

import Admonition from '@theme/Admonition';


# マルチテナンシーの実装

Zilliz Cloudでは、マルチテナンシーとは、複数の顧客またはチーム（**テナント**と呼ばれます）が同じクラスターを共有しながらも、分離されたデータ環境を維持することを意味します。

Zilliz Cloudは4つのマルチテナンシー戦略をサポートしており、それぞれがスケーラビリティ、データ分離、および柔軟性の間で異なるトレードオフを提供します。このガイドでは各オプションを紹介し、ユースケースに最も適した戦略を選択するのに役立ちます。

## マルチテナンシー戦略\{#multi-tenancy-strategies}

Zilliz Cloudは、**データベース**、**コレクション**、**パーティション**、および**パーティションキー**の4つのレベルでマルチテナンシーをサポートしています。

### データベースレベルのマルチテナンシー\{#database-level-multi-tenancy}

データベースレベルのマルチテナンシーでは、各テナントには1つまたは複数のコレクションを含む対応する[データベース](./database)が割り当てられます。

![NVV9w0w49hZJ61bNzG4cdi9gn6C](/img/NVV9w0w49hZJ61bNzG4cdi9gn6C.png)

- **スケーラビリティ**: データベースレベルのマルチテナンシー戦略はZilliz Cloudの専用クラスターでのみ利用可能で、最大1,024のテナントをサポートします。

- **データ分離**: 各データベース内のデータは完全に分離されており、規制された環境または厳格なコンプライアンス要件を持つ顧客に理想的なエンタープライズグレードのデータ分離を提供します。

- **柔軟性**: 各データベースは異なるスキーマを持つコレクションを持つことができ、非常に柔軟なデータ組織を提供し、各テナントが独自のデータスキーマを持つことを可能にします。

- **その他**: この戦略はRBACもサポートしており、テナントごとのきめ細かいユーザー アクセス制御を可能にします。さらに、ホットデータとコールドデータを効果的に管理するために、特定のテナントのデータを柔軟にロードまたは解放できます。

### コレクションレベルのマルチテナンシー\{#collection-level-multi-tenancy}

コレクションレベルのマルチテナンシーでは、各テナントには[コレクション](./manage-collections)が割り当てられ、強力なデータ分離を提供します。

![SNxNwi64ChMFdubYKmrcGOH5ncg](/img/SNxNwi64ChMFdubYKmrcGOH5ncg.png)

- **スケーラビリティ**: クラスターは最大16,384のコレクションを保持できるため、この戦略ではクラスター内に同じ数のテナントを収容できます。

- **データ分離**: コレクションは物理的に互いに分離されています。この戦略は強力なデータ分離を提供します。

- **柔軟性**: この戦略では、各コレクションが独自のスキーマを持つことができ、異なるデータスキーマを持つテナントに対応できます。

- **その他**: この戦略はRBACもサポートしており、テナントに対するきめ細かいアクセス制御を可能にします。さらに、ホットデータとコールドデータを効果的に管理するために、特定のテナントのデータを柔軟にロードまたは解放できます。

### パーティションレベルのマルチテナンシー\{#partition-level-multi-tenancy}

パーティションレベルのマルチテナンシーでは、各テナントには共有コレクション内に手動で作成された[パーティション](./manage-partitions)が割り当てられます。

![D5cawfOk0hKkJmbJwHwc54a5n4f](/img/D5cawfOk0hKkJmbJwHwc54a5n4f.png)

- **スケーラビリティ**: コレクションはコレクションあたり最大1,024のパーティションを保持できるため、これに同じ数のテナントを収容できます。

- **データ分離**: 各テナントのデータはパーティションによって物理的に分離されます。

- **柔軟性**: この戦略では、すべてのテナントが同じデータスキーマを共有する必要があります。また、パーティションは手動で作成する必要があります。

- **その他**: RBACはパーティションレベルではサポートされていません。テナントは個別に、または複数のパーティションにわたって照会できるため、このアプローチはテナントセグメントにわたる集約クエリまたは分析に適しています。さらに、ホットデータとコールドデータを効果的に管理するために、特定のテナントのデータを柔軟にロードまたは解放できます。

### パーティションキー レベルのマルチテナンシー\{#partition-key-level-multi-tenancy}

この戦略では、すべてのテナントが単一のコレクションとスキーマを共有しますが、各テナントのデータは[パーティションキー](./use-partition-key)値に基づいて16の物理的に分離されたパーティションに自動的にルーティングされます。各物理パーティションには複数のテナントを含めることができますが、異なるテナントからのデータは論理的に分離されたままになります。

![GzOrwUHnEhaPGybcp7ActPwsnMh](/img/GzOrwUHnEhaPGybcp7ActPwsnMh.png)

- **スケーラビリティ**: パーティションキー レベル戦略は最もスケーラブルなアプローチを提供し、数百万のテナントをサポートします。

- **データ分離**: この戦略は比較的弱いデータ分離を提供するため、複数のテナントが物理パーティションを共有できます。

- **柔軟性**: すべてのテナントが同じデータスキーマを共有する必要があるため、この戦略はデータの柔軟性が限られています。

- **その他**: RBACはパーティションキー レベルではサポートされていません。テナントは個別に、または複数のパーティションにわたって照会できるため、このアプローチはテナントセグメントにわたる集約クエリまたは分析に適しています。

## 適切なマルチテナンシー戦略の選択\{#choosing-the-right-multi-tenancy-strategy}

以下の表は、4つのマルチテナンシー戦略レベル間の包括的な比較を提供します。

<table>
   <tr>
     <th></th>
     <th><p><strong>データベースレベル</strong></p></th>
     <th><p><strong>コレクションレベル</strong></p></th>
     <th><p><strong>パーティションレベル</strong></p></th>
     <th><p><strong>パーティションキーレベル</strong></p></th>
   </tr>
   <tr>
     <td><p><strong>クラスター デプロイ オプション</strong></p></td>
     <td><p>専用のみ</p></td>
     <td><p>すべてのデプロイ オプション</p></td>
     <td><p>すべてのデプロイ オプション</p></td>
     <td><p>すべてのデプロイ オプション</p></td>
   </tr>
   <tr>
     <td><p><strong>データ分離</strong></p></td>
     <td><p>物理的</p></td>
     <td><p>物理的</p></td>
     <td><p>物理的</p></td>
     <td><p>物理的 + 論理的</p></td>
   </tr>
   <tr>
     <td><p><strong>最大テナント数</strong></p></td>
     <td><p>1024</p></td>
     <td><p>クラスターデプロイオプションおよびプロジェクトプランに応じて最大16,384。</p><p><a href="./limits#collections">Zilliz Cloud制限</a>を参照してください</p></td>
     <td><p>クラスターデプロイオプションおよびプロジェクトプランに応じてコレクションあたり最大1,024。</p><p><a href="./limits">Zilliz Cloud制限</a>を参照してください</p></td>
     <td><p>数百万</p></td>
   </tr>
   <tr>
     <td><p><strong>データスキーマの柔軟性</strong></p></td>
     <td><p>高</p></td>
     <td><p>中</p></td>
     <td><p>低</p></td>
     <td><p>低</p></td>
   </tr>
   <tr>
     <td><p><strong>RBACサポート</strong></p></td>
     <td><p>はい</p></td>
     <td><p>はい</p></td>
     <td><p>いいえ</p></td>
     <td><p>いいえ</p></td>
   </tr>
   <tr>
     <td><p><strong>検索パフォーマンス</strong></p></td>
     <td><p>強</p></td>
     <td><p>強</p></td>
     <td><p>中</p></td>
     <td><p>中</p></td>
   </tr>
   <tr>
     <td><p><strong>テナント間検索サポート</strong></p></td>
     <td><p>いいえ</p></td>
     <td><p>いいえ</p></td>
     <td><p>はい</p></td>
     <td><p>はい</p></td>
   </tr>
   <tr>
     <td><p><strong>ホットデータとコールドデータの効果的な処理のサポート</strong></p></td>
     <td><p>はい</p></td>
     <td><p>はい</p></td>
     <td><p>はい</p></td>
     <td><p>いいえ</p><p>現在のところ、パーティションキー レベル戦略ではサポートされていません。ただし、大規模なテナントがあり、ホットデータとコールドデータの効果的な処理が必要な場合は、<a href="https://zilliz.com/contact-sales">お問い合わせください</a>。</p></td>
   </tr>
</table>

Zilliz Cloudでマルチテナンシー戦略を選択する際には、いくつかの要因を考慮する必要があります。

1. **スケーラビリティ：** パーティションキー > パーティション > コレクション > データベース

    非常に多数のテナント（数百万以上）をサポートする予定がある場合は、パーティションキーレベル戦略を使用してください。

1. **強力なデータ分離要件：** データベース = コレクション > パーティション > パーティションキー

    厳格な物理的データ分離要件がある場合は、データベース、コレクション、またはパーティションレベルの戦略を選択してください。

1. **各テナントのデータの柔軟なデータスキーマ：** データベース > コレクション > パーティション = パーティションキー

    データベースレベルとコレクションレベルの戦略は、データスキーマの完全な柔軟性を提供します。テナントのデータ構造が異なる場合は、データベースレベルまたはコレクションレベルのマルチテナンシーを選択してください。

1. **その他**

    1. **パフォーマンス：** 検索パフォーマンスは、インデックス、検索パラメータ、マシン構成を含むさまざまな要因によって決まります。Zilliz Cloudはパフォーマンス調整もサポートしています。マルチテナンシー戦略を選択する前に実際のパフォーマンスをテストすることをお勧めします。

    1. **ホットデータとコールドデータの効果的な処理：** 現在、データベースレベル、コレクションレベル、およびパーティションレベルの戦略はすべて、ホットデータとコールドデータの処理をサポートしています。パーティションキーレベル戦略を選択したいが、ホットデータとコールドデータの処理が必要な場合は、[お問い合わせください](https://zilliz.com/contact-sales)。

    1. **テナント間検索：** パーティションレベルとパーティションキーレベル戦略のみがテナント間クエリをサポートしています。