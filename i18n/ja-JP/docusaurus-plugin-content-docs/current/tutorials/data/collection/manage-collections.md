---
title: "コレクションの説明 | Cloud"
slug: /manage-collections
sidebar_label: "コレクションの説明"
beta: FALSE
notebook: FALSE
description: "オンにZillizクラウド複数のコレクションを作成してデータを管理し、データをエンティティとしてコレクションに挿入することができます。コレクションとエンティティは、リレーショナルデータベースのテーブルやレコードに似ています。このページでは、コレクションと関連する概念について学ぶことができます。 | Cloud"
type: origin
token: Z9AMwNkVLiog0jkXxNscuMpJnjL
sidebar_position: 1
keywords: 
  - zilliz
  - vector database
  - cloud
  - collection
  - collection explained
  - semantic search
  - Anomaly Detection
  - sentence transformers
  - Recommender systems

---

import Admonition from '@theme/Admonition';


# コレクションの説明

オンにZillizクラウド複数のコレクションを作成してデータを管理し、データをエンティティとしてコレクションに挿入することができます。コレクションとエンティティは、リレーショナルデータベースのテーブルやレコードに似ています。このページでは、コレクションと関連する概念について学ぶことができます。

## コレクション{#collection}

コレクションは、固定列とバリアント行を持つ2次元テーブルです。各列はフィールドを表し、各行はエンティティを表します。 

次のグラフは、8つの列と6つのエンティティを持つコレクションを示しています。

![BitLbgzN4oYspwxM4vQcAmg2n9f](/img/BitLbgzN4oYspwxM4vQcAmg2n9f.png)

## スキーマとフィールド{#schema-and-fields}

オブジェクトを説明する際には、通常、体格、重さ、位置などの属性を言及します。これらの属性をコレクション内のフィールドとして使用できます。各フィールドには、データ型やベクトルフィールドの次元など、さまざまな制約プロパティがあります。フィールドを作成し、その順序を定義することで、コレクションスキーマを形成できます。適用可能なデータ型については、[スキーマの説明](./schema-explained)を参照してください。

挿入するエンティティには、すべてのスキーマ定義フィールドを含める必要があります。いくつかのフィールドをオプションにするには、以下のオプションを検討してください。

- **それらをnull可能にするか、デフォルト値を設定する**

    フィールドをnullにする方法やデフォルト値を設定する方法の詳細については、[Nullableデフォルト(D)](./nullable-and-default)を参照してください。

- **ダイナミックフィールドを有効にする**

    ダイナミックフィールドを有効にして使用する方法の詳細については、[ダイナミックフィールド](./enable-dynamic-field)を参照してください。

## 主キーとAutoId{#primary-key-and-autoid}

リレーショナルデータベースのプライマリフィールドと同様に、コレクションにはエンティティを他のものと区別するためのプライマリフィールドがあります。プライマリフィールドの各値はグローバルに一意であり、1つの特定のエンティティに対応します。 

上記のチャートに示されているように、**id**というフィールドは主要なフィールドとして機能し、最初のID**0**は「コロナウイルスの死亡率は重要ではない」というエンティティに対応します。主要なフィールドが0のエンティティは他に存在しません。 

プライマリフィールドは整数または文字列のみを受け入れます。エンティティを挿入する場合、デフォルトでプライマリフィールドの値を含める必要があります。ただし、コレクションの作成時に**AutoId**を有効にしている場合は、Zillizクラウドデータ挿入時にそれらの値を生成します。そのような場合、挿入するエンティティから主要なフィールド値を除外してください。

詳細については、[プライマリフィールドとAutoId](./primary-field-auto-id)を参照してください。

## インデックス{#index}

特定のフィールドにインデックスを作成すると、検索の効率が向上します。サービスが依存するすべてのフィールドにインデックスを作成することをお勧めします。その中でも、ベクトルフィールドのインデックスは必須です。

Milvusとは異なり、Zilliz Cloud上のコレクション内のベクトルフィールドに適用可能なインデックスタイプはAUTOINDEXのみです。詳細については、[AUTOINDEXの説明](./autoindex-explained)を参照してください。

</include>

## エンティティ{#entity}

エンティティは、コレクション内の同じフィールドセットを共有するデータレコードです。同じ行のすべてのフィールドの値がエンティティを構成します。

コレクションには必要な数のエンティティを挿入することができます。ただし、エンティティの数が増えるにつれて、必要なメモリ体格も増加し、検索のパフォーマンスに影響を与えます。

詳細については、[スキーマの説明](./schema-explained)を参照してください。

## ロードとリリース{#load-and-release}

コレクションをロードすることは、コレクション内の類似検索やクエリを実行するための前提条件です。コレクションをロードすると、Zillizクラウド検索やクエリに迅速に応答するために、各フィールドのすべてのインデックスファイルと生データをメモリにロードします。

検索とクエリはメモリを大量に消費する操作です。コストを節約するために、現在使用されていないコレクションを解放することをお勧めします。

詳細については、[ロード&リリース](./load-release-collections)を参照してください。

## 検索とクエリ{#search-and-query}

インデックスを作成してコレクションを読み込んだら、1つまたは複数のクエリベクトルを入力することで類似検索を開始できます。例えば、検索要求で運ばれたクエリのベクトル表現を受け取った場合、Zillizクラウド指定されたメトリック型を使用して、クエリベクトルとターゲットコレクション内のベクトルとの類似性を測定し、クエリと意味的に類似したものを返します。

検索やクエリにメタデータフィルタリングを含めることで、結果の関連性を向上させることもできます。なお、メタデータフィルタリング条件はクエリでは必須ですが、検索では任意です。

適用可能なメトリックタイプの詳細については、[メトリックの種類](./search-metrics-explained)を参照してください。

検索とクエリの詳細については、以下の記事を参照してくださいリンク_PLACEHOLDER_0章の中で、基本的な特徴は次のとおりです:

- [基本的なANN検索](./single-vector-search)

- [フィルター検索](./filtered-search)

- [レンジ検索](./range-search)

- [グループ検索](./grouping-search)

- [ハイブリッド検索](./hybrid-search)

- [検索イテレータ](./with-iterators)

- [クエリ](./get-and-scalar-query)

- [フルテキスト検索](./full-text-search)

- [テキスト一致](./text-match)

さらに、Zillizクラウドまた、検索のパフォーマンスと効率を向上させるための機能強化も提供します。これらはデフォルトで無効になっており、サービス要件に応じて有効にして使用することができます。

- [パーティションキーを使う](./use-partition-key)

- [mmapを使う](./use-mmap)

</include>

- mmapを使う

- クラスタリング圧縮

</include>

## パーティション{#partition}

パーティションはコレクションのサブセットであり、親コレクションと同じフィールドセットを共有し、それぞれにエンティティのサブセットが含まれています。

エンティティを異なるパーティションに割り当てることで、エンティティグループを作成することができます。特定のパーティションで検索やクエリを行うことができますZillizクラウド他のパーティション内のエンティティを無視し、検索効率を向上させます。

詳細については、[パーティションの管理](./manage-partitions)を参照してください。

## シャード{#shard}

シャードはコレクションの水平スライスです。各シャードはデータ入力チャネルに対応します。すべてのコレクションにはデフォルトでシャードがあります。コレクションを作成する際に、期待されるスループットとコレクションに挿入するデータの量に基づいて、適切なシャード数を設定できます。

シャード番号の設定方法については、[コレクションを作成](./manage-collections-sdks)を参照してください。

## エイリアス{#alias}

コレクションのエイリアスを作成することができます。コレクションは複数のエイリアスを持つことができますが、コレクションはエイリアスを共有することはできません。コレクションに対するリクエストを受け取った場合、Zillizクラウド指定された名前に基づいてコレクションを検索します。指定された名前のコレクションが存在しない場合は、Zillizクラウド提供された名前をエイリアスとして引き続き検索します。コレクションエイリアスを使用して、コードをさまざまなシナリオに適応させることができます。

詳細については、[エイリアスの管理](./manage-aliases)を参照してください。

## 機能する{#function}

関数を設定できます。Zillizクラウドコレクション作成時にフィールドを導出するために使用されます。たとえば、全文検索関数は、ユーザー定義関数を使用して、特定のvarcharフィールドから疎ベクトルフィールドを導出します。全文検索の詳細については、[フルテキスト検索](./full-text-search)を参照してください。

## 一貫性レベル{#consistency-level}

分散データベースシステムは通常、データノードとレプリカ間のデータの同一性を定義するために一貫性レベルを使用します。コレクションを作成するときに別々の一貫性レベルを設定したり、コレクション内で類似性検索を実行したりすることができます。適用可能な一貫性レベルは、「強い」、「限定された古さ」、「セッション」、および「最終的に」です。

 これらの一貫性レベルの詳細については、[一貫性レベル](./consistency-level)を参照してください。

## 限界{#limits}

次の表に、さまざまなクラスターの種類を使用する場合に作成できるコレクションの最大数の制限を示します。 

<table>
   <tr>
     <th><p><strong>クラスタタイプ</strong></p></th>
     <th><p><strong>マックス数</strong></p></th>
     <th><p><strong>備考</strong></p></th>
   </tr>
   <tr>
     <td><p>フリークラスタ</p></td>
     <td><p>5つ</p></td>
     <td><p>最大5つのコレクションを作成できます。</p></td>
   </tr>
   <tr>
     <td><p>サーバーレスクラスタ</p></td>
     <td><p>100</p></td>
     <td><p>最大100個のコレクションを作成できます。</p></td>
   </tr>
   <tr>
     <td><p>専用クラスタ</p></td>
     <td><p>CUあたり64、および&lt;=409 6</p></td>
     <td><p>専用クラスターで使用されるCUごとに最大64個のコレクションを作成でき、クラスター内には4,096個を超えるコレクションは作成できません。</p></td>
   </tr>
</table>

クラスタあたりのコレクション数の制限に加えて、Zilliz Cloudは消費容量にも制限を適用します。次の表は、クラスタの一般的な容量の制限を示しています。

<table>
   <tr>
     <th><p><strong>CUの数</strong></p></th>
     <th><p><strong>一般的な容量</strong></p></th>
   </tr>
   <tr>
     <td><p>1-8のCU</p></td>
     <td><p>&lt;= 4,096</p></td>
   </tr>
   <tr>
     <td><p>12+のCU</p></td>
     <td><p>最小(512 x CUの数、655 3 6)</p></td>
   </tr>
</table>

コレクションの制限の詳細については、[Zillizクラウドの制限](./limits#collections)を参照してください。

</include>

コレクションの制限と制限については、[Zillizクラウドの制限](./limits)を参照してください。

</include>

