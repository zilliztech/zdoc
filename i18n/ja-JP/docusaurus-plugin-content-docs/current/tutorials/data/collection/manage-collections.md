---
title: "コレクションの説明 | クラウド"
slug: /manage-collections
sidebar_label: "コレクションの説明"
beta: FALSE
added_since: FALSE
last_modified: FALSE
deprecate_since: FALSE
notebook: FALSE
description: "Zilliz Cloudでは、複数のコレクションを作成してデータを管理し、データをエンティティとしてコレクションに挿入できます。コレクションとエンティティはリレーショナルデータベースのテーブルとレコードに似ています。このページでは、コレクションと関連概念について学ぶことができます。 | Cloud"
type: origin
token: Z9AMwNkVLiog0jkXxNscuMpJnjL
sidebar_position: 1
keywords:
  - zilliz
  - ベクトルデータベース
  - クラウド
  - コレクション
  - コレクションの説明
  - Annoyベクトル検索
  - milvus
  - Zilliz
  - milvusベクトルデータベース

---

import Admonition from '@theme/Admonition';


# コレクションの説明

Zilliz Cloudでは、複数のコレクションを作成してデータを管理し、データをエンティティとしてコレクションに挿入できます。コレクションとエンティティはリレーショナルデータベースのテーブルとレコードに似ています。このページでは、コレクションと関連概念について学ぶことができます。

## コレクション\{#collection}

コレクションは固定列と可変行の2次元テーブルです。各列はフィールドを表し、各行はエンティティを表します。

以下のチャートは、8つの列と6つのエンティティを持つコレクションを示しています。

![BitLbgzN4oYspwxM4vQcAmg2n9f](/img/BitLbgzN4oYspwxM4vQcAmg2n9f.png)

## スキーマとフィールド\{#schema-and-fields}

オブジェクトを説明する際、通常はサイズ、重さ、位置などの属性を挙げます。これらの属性をコレクション内のフィールドとして使用できます。各フィールドには、データ型やベクトルフィールドの次元数などのさまざまな制約プロパティがあります。フィールドを作成し、その順序を定義することでコレクションスキーマを形成できます。適用可能なデータ型については、[スキーマの説明](./schema-explained)を参照してください。

挿入するエンティティには、すべてのスキーマ定義フィールドを含める必要があります。一部をオプションにするには、以下のオプションを検討してください：

- **NULL許容にするか、デフォルト値を設定する**

    フィールドをNULL許容にする方法やデフォルト値を設定する方法の詳細については、[NULL許容とデフォルト](./nullable-and-default)を参照してください。

- **ダイナミックフィールドを有効にする**

    ダイナミックフィールドの有効化および使用方法の詳細については、[ダイナミックフィールド](./enable-dynamic-field)を参照してください。

## 主キーとAutoId\{#primary-key-and-autoid}

リレーショナルデータベースの主キーと同様に、コレクションにはエンティティを他のエンティティと区別するための主キーがあります。主キーの各値はグローバルに一意で、特定の1つのエンティティに対応します。

上記のチャートに示されているように、**id**という名前のフィールドが主キーとして機能し、最初のIDである**0**は「The Mortality Rate of Coronavirus is Not Important」というタイトルのエンティティに対応しています。0という主キーを持つ他のエンティティは存在しません。

主キーは整数または文字列のみを受け入れます。エンティティを挿入する際には、デフォルトで主キーの値を含める必要があります。ただし、コレクション作成時に**AutoId**を有効にした場合、Zilliz Cloudはデータ挿入時にこれらの値を生成します。その場合は、挿入するエンティティから主キーの値を除外してください。

詳細については、[主キーとAutoId](./primary-field-auto-id)を参照してください。

## インデックス\{#index}

特定のフィールドにインデックスを作成すると、検索効率が向上します。サービスが依存するすべてのフィールドにインデックスを作成することをお勧めします。その中でも、ベクトルフィールドのインデックスは必須です。

Milvusとは異なり、Zilliz Cloudのコレクションにおけるベクトルフィールドに適用可能なインデックスタイプは、AUTOINDEXのみです。詳細については、[AUTOINDEXの説明](./autoindex-explained)を参照してください。

## エンティティ\{#entity}

エンティティは、コレクション内の同じフィールドセットを共有するデータレコードです。同じ行のすべてのフィールドの値が1つのエンティティを構成します。

必要に応じて、コレクションに多数のエンティティを挿入できます。ただし、エンティティ数が増えるにつれて、必要なメモリサイズも増加し、検索パフォーマンスに影響を与える可能性があります。

詳細については、[スキーマの説明](./schema-explained)を参照してください。

## ロードとリリース\{#load-and-release}

コレクションをロードすることは、コレクション内で類似性検索およびクエリを実行するための前提条件です。コレクションをロードすると、Zilliz Cloudはすべてのインデックスファイルと各フィールドの生データをメモリにロードし、検索およびクエリに高速に対応します。

検索およびクエリはメモリを多用する操作です。コストを節約するため、現在使用していないコレクションはリリースすることをお勧めします。

詳細については、[ロードとリリース](./load-release-collections)を参照してください。

## 検索とクエリ\{#search-and-query}

インデックスを作成し、コレクションをロードすると、1つまたは複数のクエリーベクトルを入力することで類似性検索を開始できます。たとえば、検索リクエストで送信されるクエリーのベクトル表現を受信すると、Zilliz Cloudは指定されたメトリックタイプを使用して、クエリーベクトルとターゲットコレクション内のベクトルとの類似性を測定し、クエリーと意味的に類似したものを返します。

検索およびクエリにメタデータフィルタリングを含めることもでき、結果の関連性を向上させます。メタデータフィルタリング条件はクエリでは必須ですが、検索ではオプションです。

適用可能なメトリックタイプの詳細については、[メトリックタイプ](./search-metrics-explained)を参照してください。

検索およびクエリの詳細については、[検索とリランキング](./search-query-get)の章の記事を参照してください。その中でも基本的な機能は以下の通りです：

- [基本ANN検索](./single-vector-search)

- [フィルター付き検索](./filtered-search)

- [範囲検索](./range-search)

- [グループ検索](./grouping-search)

- [ハイブリッド検索](./hybrid-search)

- [検索イテレーター](./with-iterators)

- [クエリ](./get-and-scalar-query)

- [全文検索](./full-text-search)

- [テキストマッチ](./text-match)

さらに、Zilliz Cloudは検索パフォーマンスと効率を向上させるための強化機能も提供しています。これらはデフォルトで無効になっており、サービス要件に応じて有効にして使用できます。それらは以下の通りです：

- [パーティションキーの使用](./use-partition-key)

- [mmapの使用](./use-mmap)

## パーティション\{#partition}

パーティションはコレクションのサブセットであり、親コレクションと同じフィールドセットを共有し、各パーティションがエンティティのサブセットを含みます。

異なるパーティションにエンティティを割り当てることで、エンティティグループを作成できます。特定のパーティションで検索およびクエリを実行し、Zilliz Cloudが他のパーティション内のエンティティを無視するようにして、検索効率を向上させることができます。

詳細については、[パーティションの管理](./manage-partitions)を参照してください。

## シャード\{#shard}

シャードはコレクションの水平方向のスライスです。各シャードはデータ入力チャネルに対応します。すべてのコレクションにはデフォルトで1つのシャードがあります。コレクションを作成する際には、期待されるスループットとコレクションに挿入するデータ量に基づいて適切なシャード数を設定できます。

シャード数を設定する方法の詳細については、[コレクションの作成](./manage-collections-sdks)を参照してください。

## エイリアス\{#alias}

コレクションのエイリアスを作成できます。1つのコレクションに複数のエイリアスを設定できますが、コレクションはエイリアスを共有できません。Zilliz Cloudは、コレクションに対するリクエストを受け取ると、提供された名前を元にコレクションを検索します。提供された名前のコレクションが存在しない場合、Zilliz Cloudはその名前をエイリアスとして検索を続けます。コレクションのエイリアスを使用して、コードをさまざまなシナリオに適応させることができます。

詳細については、[エイリアスの管理](./manage-aliases)を参照してください。

## 関数\{#function}

Zilliz Cloudがコレクション作成時にフィールドを派生させるように関数を設定できます。たとえば、全文検索関数では、ユーザー定義関数を使用して特定のVARCHARフィールドからスパースベクトルフィールドを派生させます。全文検索の詳細については、[全文検索](./full-text-search)を参照してください。

## 一貫性レベル\{#consistency-level}

分散データベースシステムでは、通常、一貫性レベルを使用してデータノード間およびレプリカ間でのデータの同一性を定義します。コレクションを作成するとき、またはコレクション内で類似性検索を実行するときに別々の一貫性レベルを設定できます。適用可能な一貫性レベルは**Strong**、**Bounded Staleness**、**Session**、および**Eventually**です。

これらの一貫性レベルの詳細については、[一貫性レベル](./consistency-level)を参照してください。

## 制限\{#limits}

コレクションに関する制限および制約については、[Zilliz Cloud 制限](./limits)を参照してください。