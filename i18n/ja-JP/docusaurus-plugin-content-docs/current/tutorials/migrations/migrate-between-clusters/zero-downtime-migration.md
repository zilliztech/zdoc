---
title: "ゼロダウンタイム移行 | Cloud"
slug: /zero-downtime-migration
sidebar_label: "ゼロダウンタイム移行"
beta: PUBLIC
notebook: FALSE
description: "Zilliz CloudのZero Downtime Migrationを使用すると、ソースクラスタからターゲットクラスタに既存および増分データの両方を移行できます。この移行方法は、進行中の書き込み操作に影響を与えずにデータを移行する必要があるシナリオに最適で、最小限の中断を保証するように設計されています。 | Cloud"
type: origin
token: BRd8wxYLJiKgpRk052EcKFEQnJe
sidebar_position: 2
keywords: 
  - zilliz
  - vector database
  - cloud
  - migrations
  - clusters
  - zero downtime
  - Knowledge base
  - natural language processing
  - AI chatbots
  - cosine distance

---

import Admonition from '@theme/Admonition';


# ゼロダウンタイム移行

Zilliz CloudのZero Downtime Migrationを使用すると、ソースクラスタからターゲットクラスタに**既存および増分データ**の両方を移行できます。この移行方法は、進行中の書き込み操作に影響を与えずにデータを移行する必要があるシナリオに最適で、最小限の中断を保証するように設計されています。

<Admonition type="info" icon="📘" title="ノート">

<p>Zero Downtime Migrationは<strong>パブリックプレビュー</strong>中です。問題が発生した場合や関連コストについては、Zilliz<a href="https://zilliz.com/contact-sales">Cloudサポート</a>にお問い合わせください。</p>

</Admonition>

![Rpc5wqo0LharoIbD7GTcnsttn0g](/img/ja-JP/Rpc5wqo0LharoIbD7GTcnsttn0g.png)

## 限界{#}

- Zero Downtime Migrationは、同じ組織内の移行のみをサポートします。組織間の移行はサポートされません。

- 移行過程では、ソースクラスタ内のすべてのデータベースが転送されます。特定のデータベースの部分的な移行はサポートされていません。

- ソースクラスターに進行中のインポートジョブまたは一括インポートジョブがある場合、移行は失敗します。

- この機能は、新しい**専用**クラスターへの移行にのみ使用できます。

- 進行中のZero Downtime Migrationジョブのキャンセルはサポートされていません。これは将来のリリースで利用可能になります。

## 始める前に{#}

- ソースクラスタはパブリックインターネットからアクセスできます。

- あなたには**組織オーナー**または**プロジェクト管理者**の役割が付与されています。必要な権限がない場合は、Zilliz Cloudの管理者にお問い合わせください。

## ステップ1:移行を開始する{#1}

![zero-downtime-migration-1](/img/ja-JP/zero-downtime-migration-1.png)

1. Zilliz[Cloudコンソール](https://cloud.zilliz.com/login/)にログインします。

1. プロジェクトページで、**移行**>**現在の組織内**を選択してください。

1. 表示されるダイアログボックスで、移行設定を構成してください

    - **ソースクラスタ**:移行元のクラスタを選択します。ソースクラスタで実行されているインポートジョブを含まないようにしてください。

    - **移行先**:**新しいクラスタ**を選択します。ゼロダウンタイム移行には、ターゲットとして新しい**専用**クラスタを作成する必要があります。

    - **移行タイプ**:「**ゼロダウンタイム移行**」を選択します。

        - **オフライン移行**:ソースクラスタへの書き込みを停止し、既存のデータのみを移行します。詳細については、「Offline Migration」を参照してください。

        - **ゼロダウンタイム移行**:進行中の操作を中断することなく、ソースクラスタから既存および増分データを移行します。

1. これらの設定を行った後、「**次**へ」をクリックしてください。クラスター作成ページにリダイレクトされます。

## ステップ2:ターゲットとして新しい専用クラスタを作成します{#2}

![zero-downtime-migration-2](/img/ja-JP/zero-downtime-migration-2.png)

1. [**新しいクラスタへの移行**]ページで、ターゲットクラスタを設定します。

    - **クラスター名:**新しいターゲットクラスターの名前を入力してください(例: cluster 01`)`。

    - **クラウドプロバイダー設定:**クラウドプロバイダー(AWS、Google Cloud、またはMicrosoft Azure)を選択し、プロジェクトのニーズに応じて追加の設定を構成します。

    クラスタの設定の詳細については、Create Clusterするを参照してください。

1. 「**移行**」をクリックします。その後、移行ジョブが開始されます。

    - ソースクラスタは**ロックされ**た状態になります。この間、ソースクラスタを削除したり、ソースクラスタに対してインポート/一括弧インポート操作を実行することはできません。

    - ターゲット専用クラスタの詳細ページにリダイレクトされます。

## ステップ3:進行中の移行ジョブを監視する{#3}

![zero-downtime-migration-3](/img/ja-JP/zero-downtime-migration-3.png)

1. ターゲットクラスタの詳細ページで、上部の「**View Progress**」をクリックして、マイグレーションの進行状況ダイアログを開きます。

1. [**移行進行状況**]ダイアログボックスで、次の移行段階を監視します。

    **ステージ1:既存のデータを使用して新しいクラスタを作成する**

    このステージでは、既存のデータをソースクラスタからターゲットクラスタに移行します。期間は転送されるデータの量によって異なり、大きなデータセットの場合は数時間かかる場合があります。

    <Admonition type="info" icon="📘" title="ノート">

    <p>この過程に時間がかかる場合は、このページを離れて他のタスクに取り組んでください。いつでも戻って、増分データ同期の進行状況を監視し続けることができます。</p>

    </Admonition>

    **ステージ2:増分データを同期する**

    この段階では、システムはソースクラスタに挿入された新しいデータをターゲットクラスタに継続的に同期します。ターゲットクラスタは**同期**状態を表示し、外部データの書き込みを受け付けないことを示します。この段階では、次の手順に従ってください

    1. **同期の遅延を監視する**

        - 同期の進行状況を監視するために、**ソース遅延**を秒単位で追跡します。このインジケータは、ソースクラスタとターゲットクラスタの最新データ間の時間差を示します。

        - 「**ソース遅延**」が10秒未満になると、データ同期の停止を続行できることを示す電子メール通知が届きます。

        - **重要**:適切な待機期間を経ても同期の遅延が10秒以下にならない場合は、[Zilliz Cloudサポート](https://zilliz.com/contact-sales)にお問い合わせください。

    1. **データ同期を停止**

        - 続行する前に、ソースクラスタへのすべての書き込みを停止し、約5分間のダウンタイムを計画します。

        - [**Lag Behind Source**]が許容可能なしきい値に達したら、チェックボックスをオンにします。**ソースクラスタへの書き込みを停止したことを確認**し、[**Stop Data Sync**]をクリックします。

        <Admonition type="info" icon="📘" title="ノート">

        <p>手動でデータ同期を停止しない場合、Zilliz Cloudは最大7日間同期を継続します。この期間を過ぎると、システムはリソースの浪費を防ぐために自動的に同期を停止し、移行ジョブが失敗します。</p>

        </Admonition>

## ターゲットクラスタへの切り替え{#}

データ同期が停止したら、**新しいクラスタへの切り取り**ステップに進んでください

1. [**Migration Progress**]ダイアログボックスで、[**View Connection Details**]をクリックします。ターゲットクラスタの詳細ページにリダイレクトされます。

1. クラスターの詳細ページで、ターゲットクラスターの状態を確認してください。**実行中**と表示されている場合、移行は成功しています。

1. 次に、提供された接続詳細を使用してターゲットクラスターに接続します。移行ジョブを完了するために、できるだけ早くこれを行うことをお勧めします。クラスターへの接続手順については、「Connect to Cluster」を参照してください。

![zero-downtime-migration-4](/img/ja-JP/zero-downtime-migration-4.png)

ターゲットクラスタに接続した後、クラスタ上で読み取り/書き込み操作を実行できます。詳細については、以下を参照してください。

- Insert & Delete

- Search & Rerank

