---
title: "データ耐性 | BYOC"
slug: /data-resilience
sidebar_label: "データ耐性"
beta: FALSE
added_since: FALSE
last_modified: FALSE
deprecate_since: FALSE
notebook: FALSE
description: "Zilliz Cloud は完全マネージドベクトルデータベースサービスとして、さまざまな障害シナリオ下でもミッションクリティカルなデータとサービスの継続的な可用性を確保するために、エンタープライズグレードの高可用性 (HA) およびディザスタリカバリー (DR) 機能を提供します。 | BYOC"
type: origin
token: YBDGwmFYkiRmRIkKGsscRjDmnIb
sidebar_position: 7
keywords:
  - zilliz
  - vector database
  - cloud
  - data resilience
  - ha
  - dr
  - rto
  - rpo
  - cost optimzation
  - Zilliz
  - milvus vector database
  - milvus db
  - milvus vector db

---

import Admonition from '@theme/Admonition';


# データ耐性

Zilliz Cloud は完全マネージドベクトルデータベースサービスとして、さまざまな障害シナリオ下でもミッションクリティカルなデータとサービスの継続的な可用性を確保するために、エンタープライズグレードの**高可用性 (HA)** および**ディザスタリカバリー (DR)** 機能を提供します。

### 主要機能\{#core-capabilities}

- **高可用性 (HA):** 自動障害検出および迅速なフェイルオーバーメカニズムにより、ノード、可用性ゾーン (AZ)、またはリージョンレベルの停止中でもサービスの中断を防ぎます。

- **ディザスタリカバリー (DR):** 包括的なバックアップおよびリストア戦略により、大規模インシデント後の迅速なビジネス回復を可能にします。

- **柔軟な耐性レベル：** 標準からエンタープライズグレードのクロスリージョン展開まで、ビジネスシナリオに応じた多様な RPO/RTO 要件に対応。

- **コスト最適化：** ビジネス価値およびリスク許容度に基づいて、最もコスト効果の高い耐性戦略を選択できます。

## 主要概念\{#key-concepts}

### 主要指標\{#core-metrics}

- **リカバリポイント目標 (RPO):** 時間で測定される最大許容データ損失。例えば、RPO が5分の場合、障害発生時に最大5分間の最新データが失われる可能性があります。

- **リカバリタイム目標 (RTO):** 障害発生から完全サービス復旧までの最大許容時間で、障害検出、フェイルオーバー判断、および実際の復旧時間を含みます。

- **サービスレベルアグリーメント (稼働時間SLA):** Zilliz Cloud のサービス可用性に関するコミットメントで、通常はパーセンテージで表されます（例：99.95％の稼働時間は、月に最大21.6分のダウンタイムを意味します）。

### 故障耐性範囲\{#fault-tolerance-scope}

- **ノードレベルの故障耐性：** 単一のコンピュートまたはストレージノードの故障

- **AZ レベルの故障耐性：** 完全な AZ 停止（例：データセンターの故障）

- **リージョンレベルの故障耐性：** 完全なリージョンサービス中断（例：自然災害）

- **クラウドプロバイダーレベルの故障耐性：** 複数クラウド展開により、単一クラウドベンダーからのリスクを軽減

## 耐性アーキテクチャレベル\{#resilience-architecture-tiers}

### 高可用性 (HA) レベル\{#high-availability-ha-tiers}

<table>
   <tr>
     <th><p>レベル</p></th>
     <th><p>説明</p></th>
     <th><p>RPO</p></th>
     <th><p>RTO</p></th>
     <th><p>書き込み遅延 / 複製方式</p></th>
     <th><p>故障耐性</p></th>
     <th><p>SLA</p></th>
     <th><p>相対コスト</p></th>
   </tr>
   <tr>
     <td><p><strong>標準</strong></p></td>
     <td><p>単一リージョン、単一AZ展開によるマルチレプリカメカニズム</p></td>
     <td><p>0秒</p></td>
     <td><p>≤1分</p></td>
     <td><p>単一AZ内での書き込み; WALはクォーラムで複製</p></td>
     <td><p>ノードレベルの障害</p><p>AZs: 1</p><p>リージョン: 1</p></td>
     <td><p>SLA保証なし</p></td>
     <td><p>低</p></td>
   </tr>
   <tr>
     <td><p><strong>エンタープライズ</strong></p></td>
     <td><p>3つのAZにまたがる単一リージョン展開で自動フェイルオーバー</p></td>
     <td><p>0秒</p></td>
     <td><p>≤1分</p></td>
     <td><p>クロスAZ書き込み; WALはクォーラムで複製</p></td>
     <td><p>AZレベルの障害</p><p>AZs: 3</p><p>リージョン: 1</p></td>
     <td><p>99.95%</p></td>
     <td><p>中</p></td>
   </tr>
   <tr>
     <td><p><strong>エンタープライズマルチレプリカ</strong></p></td>
     <td><p>リージョン内でのアクティブ-アクティブマルチレプリカアーキテクチャ; 読み書き分離および高速フェイルオーバー</p></td>
     <td><p>0秒</p></td>
     <td><p>≤10秒</p></td>
     <td><p>クロスAZ書き込み; レプリカ間同期はWAL経由</p></td>
     <td><p>AZレベルの障害</p><p>AZs: 3</p><p>リージョン: 1</p></td>
     <td><p>99.99%</p></td>
     <td><p>中〜高</p></td>
   </tr>
   <tr>
     <td><p><strong>クロスリージョンHA</strong></p></td>
     <td><p>グローバルロードバランシングによるマルチリージョン/マルチクラウド展開</p></td>
     <td><p>≤10秒</p></td>
     <td><p>手動または自動フェイルオーバー:</p><p>自動: ≤3分</p></td>
     <td><p>AZ間での同期書き込み; 他のリージョン/クラウドへの非同期レプリケーション</p></td>
     <td><p>リージョンレベルの障害</p><p>AZs: ≥3</p><p>リージョン: ≥2</p></td>
     <td><p>99.99%</p></td>
     <td><p>高</p></td>
   </tr>
</table>

<Admonition type="info" icon="📘" title="Notes">

<p>クロスリージョンHAは2025年11月に利用可能になります。増分バックアップは2025年12月に利用可能になります。</p>

</Admonition>

### ディザスタリカバリー (DR) レベル\{#disaster-recovery-dr-tiers}

<table>
   <tr>
     <th><p>レベル</p></th>
     <th><p>説明</p></th>
     <th><p>RPO</p></th>
     <th><p>復元速度</p></th>
     <th><p>バックアップ戦略</p></th>
     <th><p>使用例</p></th>
     <th><p>追加コスト</p></th>
   </tr>
   <tr>
     <td><p><strong>ローカルバックアップ</strong></p></td>
     <td><p>同一リージョンオブジェクトストレージ; スケジュールされた完全バックアップ</p></td>
     <td><p>毎時</p></td>
     <td><p>数分〜数時間</p></td>
     <td><p>完全バックアップ</p></td>
     <td><p>誤削除、論理的エラー回復</p></td>
     <td><p>低</p></td>
   </tr>
   <tr>
     <td><p><strong>クロスリージョンバックアップ</strong></p></td>
     <td><p>異なるリージョンに保存されたバックアップデータ; リージョン災害から保護</p></td>
     <td><p>毎時</p></td>
     <td><p>数分〜数時間</p></td>
     <td><p>リージョン/クラウド間で複製された完全バックアップ</p></td>
     <td><p>リージョン災害、コンプライアンス要件</p></td>
     <td><p>中</p></td>
   </tr>
   <tr>
     <td><p><strong>増分バックアップ</strong></p></td>
     <td><p>リアルタイム増分バックアップ; 細かいリカバリポイント</p></td>
     <td><p>≤1分</p></td>
     <td><p>数分〜数時間</p></td>
     <td><p>トランザクションログの継続的キャプチャ</p></td>
     <td><p>重要ワークロードのポイントインタイムリカバリ</p></td>
     <td><p>中〜高</p></td>
   </tr>
</table>

## クイック選択ガイド\{#quick-selection-guide}

### ビジネス階層化 & 耐性推奨\{#business-tiering-and-resilience-recommendations}

#### **Tier 1 – ミッションクリティカルワークロード**\{#tier-1-mission-critical-workloads}

- **特徴：** 24時間365日運用; 数分の停止でも重大な損失が発生; 極めて高いビジネス価値

- **推奨：** クロスリージョンHA + エンタープライズマルチレプリカ + 連続データ保護

- **目標：** RPO = 0s、RTO < 30s、クロスクラウド/リージョンDR

- **期待されるコスト：** 高

#### **Tier 2 – 重要なビジネスシステム**\{#tier-2-important-business-systems}

- **特徴：** 24時間365日運用; 高い安定性要求

- **推奨：** エンタープライズマルチレプリカ + クロスリージョンバックアップ

- **目標：** RPO = 0s、RTO < 30s

- **期待されるコスト：** 中〜高

#### **Tier 3 – 一般アプリケーション**\{#tier-3-general-applications}

- **特徴：** 業務時間内運用; コストに敏感; ある程度のリカバリ時間を容認

- **推奨：** エンタープライズ + ローカルバックアップ

- **目標：** RPO = 0s、RTO < 3分

- **期待されるコスト：** 低〜中

#### **Tier 4 – 非クリティカルワークロード**\{#tier-4-non-critical-workloads}

- **特徴：** 非必須システム; コストに敏感; スケジュールされたメンテナンス時間を受け入れる

- **推奨：** 標準 + ローカルバックアップ

- **目標：** RPO = 0s、RTO < 3分

- **期待されるコスト：** 低〜中

### コスト最適化判断マトリクス\{#cost-optimization-decision-matrix}

<table>
   <tr>
     <th><p>ビジネスへの影響</p></th>
     <th><p>データ価値</p></th>
     <th><p>コンプライアンス要件</p></th>
     <th><p>推奨ソリューション</p></th>
     <th><p>コストレベル</p></th>
   </tr>
   <tr>
     <td><p>極めて高い</p></td>
     <td><p>極めて高い</p></td>
     <td><p>厳格</p></td>
     <td><p>クロスリージョンHA + 完全DR</p></td>
     <td><p>高</p></td>
   </tr>
   <tr>
     <td><p>高い</p></td>
     <td><p>高い</p></td>
     <td><p>中程度</p></td>
     <td><p>エンタープライズマルチレプリカ + クロスリージョンバックアップ</p></td>
     <td><p>中〜高</p></td>
   </tr>
   <tr>
     <td><p>中</p></td>
     <td><p>中</p></td>
     <td><p>基本</p></td>
     <td><p>エンタープライズ + ローカルバックアップ</p></td>
     <td><p>中</p></td>
   </tr>
   <tr>
     <td><p>低</p></td>
     <td><p>低</p></td>
     <td><p>なし</p></td>
     <td><p>標準 + 基本バックアップ</p></td>
     <td><p>低</p></td>
   </tr>
</table>

## よくある質問 (FAQ)\{#frequently-asked-questions-faq}

**Q1: 標準およびエンタープライズプランはどのように高可用性を実現していますか？**

**アーキテクチャ設計**

Zilliz Cloud はコンピュートとストレージを分離したアーキテクチャを使用し、3つのデータタイプがあります：

- **メタデータ：** etcd に保存（3つのレプリカ、RAFT プロトコル）

- **ログデータ：** 独自の Woodpecker に保存（クォーラムプロトコル）

- **生データおよびインデックスデータ：** オブジェクトストレージに保存、クラウドストレージのネイティブHA継承

**コンピュートノードHA**

- Kubernetes によって管理され、自動スケジューリング

- 単一ノードまたは単一AZ故障時にポッドが自動再起動

- コーディネーターがセグメントを他の QueryNode に再割り当て

- インデックスとデータはストレージから再読み込み; 回復時間 < 1分

**コスト最適化**

- **複数の永続レプリカ** + **動的インメモリロード** を使用

    - インメモリレプリカを複数維持することによるコスト爆発を回避

    - DRアーキテクチャを簡素化

    - ログおよびオブジェクトストレージの帯域幅を活用して高速回復

**Q2: マルチレプリカメカニズムはどのように動作しますか？**

**コアメカニズム**

- **シャードレベル：** 複数の StreamNode が同じシャードをプライマリ/スタンバイ役割でロード

- **セグメントレベル：** 複数の QueryNode が同じセグメントをロード; データは単一コピーとして永続化

**読み書き分離**

- **書き込み：** プライマリ StreamNode が処理

- **読み取り：** 任意のスタンバイ StreamNode または QueryNode が提供

**主な利点**

- **高速フェイルオーバー：** プロキシが自動的にトラフィックをスタンバイノードにリダイレクト

- **より高いQPS：** 複数のインメモリレプリカが読み取りスループットを向上

- **スムーズなアップグレード：** ローリングアップデートによりサービスの不安定さを軽減し、安定性を向上

**Q3: グローバルデータベースはクロスリージョン高可用性をどのように実現しますか？**

**CDC 同期**

- Change Data Capture (CDC) は DDL、DML、およびバルクインポート操作を同期

- 典型的な同期遅延 < 10秒

- 非常に低い RPO でクロスリージョン/クロスクラウドDRを可能に

**データ書き込み戦略**

- 同一リージョン内の複数AZに同期的にデータ書き込み

- 書き込み遅延はAZ間レベル

- 極端なフェイルオーバーシナリオにおいても、データ損失 < 10秒

<Admonition type="info" icon="📘" title="Notes">

<p><strong>2026年ロードマップ：</strong> クロスリージョンWoodpeckerで<strong>RPO = 0</strong>を実現</p>

</Admonition>

**フェイルオーバーモード**

- **手動：** OpenAPI または Web コンソール経由

- **自動：** Zilliz ヘルスチェックサービスが故障を検出し、1〜3分でフェイルオーバーを完了

**アクセスパターン**

<table>
   <tr>
     <th><p>モード</p></th>
     <th><p>特徴</p></th>
     <th><p>使用例</p></th>
   </tr>
   <tr>
     <td><p><strong>アクティブ-スタンバイDR</strong></p></td>
     <td><p>プライマリが読み書きを処理; スタンバイはフェイルオーバー時のみアクティブ化</p></td>
     <td><p>標準ディザスタリカバリー</p></td>
   </tr>
   <tr>
     <td><p><strong>アクティブ-アクティブ（マルチリード）</strong></p></td>
     <td><p>プライマリ書き込み; 複数リージョンでの読み取り（最寄りリージョン読み取り）</p></td>
     <td><p>グローバル読み取り重視、書き込み軽減ワークロード</p></td>
   </tr>
   <tr>
     <td><p><strong>マルチプライマリ</strong> <em>（2026年登場予定）</em></p></td>
     <td><p>両リージョンが書き込みを許可; ユーザーがデータ競合を回避する必要あり</p></td>
     <td><p>セルベースまたはシャーデッド展開</p></td>
   </tr>
</table>

最新の機能アップデートまたは技術サポートについては、[Zilliz Cloud サポート](https://support.zilliz.com/hc/en-us)にお問い合わせください。
